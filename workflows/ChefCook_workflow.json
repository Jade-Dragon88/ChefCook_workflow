{"createdAt":"2025-09-23T08:47:36.135Z","updatedAt":"2025-09-23T09:12:22.103Z","id":"17EV4XzEruaFzoQh","name":"ChiefCook_Workflow_For_GitHub","active":false,"isArchived":false,"nodes":[{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[720,176],"id":"f9ee1f77-c104-46a2-a8de-bec6dac7c995","name":"2"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[720,640],"id":"6f37d614-75f6-49b5-a388-4b92cbe1c9f2","name":"3"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[720,1248],"id":"dcf171ee-d4e9-4375-aab4-f5d5f4e92081","name":"4"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[720,2096],"id":"fa8630b1-777d-40d0-bd60-33b4b50dc73a","name":"5"},{"parameters":{"jsCode":"\nconst incomingRecipes = $(\"HTML-parse Get Recipes Titles\").all()[0].json.recipes;\nconst incomingUrls = $(\"HTML-parse Get Recipes Titles\").all()[0].json.urls;\n\n\nconst filtredRecipes = incomingRecipes.filter((el)=>{\n  return !(el.includes('–•–æ—á—É —Ä–∞–±–æ—Ç–∞—Ç—å'))\n});\nconst filtredUrls = incomingUrls.filter((el)=>{\n  return !(el.includes('vacancies'))\n});\n\n\nconst countReturnRandomRecipes = \n  incomingRecipes.length < 10 \n    ? incomingRecipes.length\n    : 10;\n\nconst randomIndexArray = [];\nconst randomRecipes = [];\n// const allTitle = ($('Filtering Recipes Title').all()[0].json.recipes);\n    const allTitle = filtredRecipes;\n// const allUrls = ($('Filtering Recipes Title').all()[0].json.urls);\n    const allUrls = filtredUrls;\nconst elemCounts = allTitle.length;\n\n  // —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –±–ª—é–¥–∞ –∏ –µ–≥–æ —Å—Å—ã–ª–∫–∏\nconst returnRandomItem = (index)=>{\n\n  const title = allTitle[index];\n\n  const url     = allUrls[index].split('/')[2];\n  const shortId = url.split(\"-\")[0]\n\n  \n  return [title,shortId];\n}\n\n  // —Ñ–æ—Ä–º–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ —Ä–∞–Ω–¥–æ–º–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤\nwhile(randomIndexArray.length < countReturnRandomRecipes ){\n  const index = Math.floor(Math.random()*elemCounts);\n  if(!randomIndexArray.includes(index)){\n    randomIndexArray.push(index)\n  }\n}\n\n  // –∏—Å–ø–æ–ª—å–∑—É—è –º–∞—Å—Å–∏–≤ —Å —Ä–∞–Ω–¥–æ–º–Ω—ã–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏ \n  // —Ñ–æ—Ä–º–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ—Ü–µ—Ç–æ–≤  \nfor ( let index of randomIndexArray){\n  randomRecipes.push(returnRandomItem(index));\n}\n\nconst outputData = {'randomRecipes':randomRecipes};\n\n\nreturn outputData;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[3120,1712],"id":"5c037457-4af3-42ea-af51-368e4d4f3685","name":"Get Random Titles"},{"parameters":{"operation":"extractHtmlContent","extractionValues":{"values":[{"key":"recipes","cssSelector":".cooking-block a.h5","returnArray":true},{"key":"urls","cssSelector":".cooking-block a.h5","returnValue":"attribute","attribute":"href","returnArray":true}]},"options":{"trimValues":true}},"type":"n8n-nodes-base.html","typeVersion":1.2,"position":[1920,1712],"id":"93927895-775e-417c-90d1-1b21a48ee717","name":"HTML-parse Get Recipes Titles"},{"parameters":{"jsCode":"\nconst ingredientSynonyms = {\n      // –û–≤–æ—â–∏ –∏ –∫–æ—Ä–Ω–µ–ø–ª–æ–¥—ã\n    '–∫–∞—Ä—Ç–æ—Ñ–µ–ª—å': ['–∫–∞—Ä—Ç–æ—à–∫–∞', '–∫–∞—Ä—Ç–æ—à–µ—á–∫–∞', '–º–æ–ª–æ–¥–∞—è –∫–∞—Ä—Ç–æ—à–∫–∞'],\n    '–ø–æ–º–∏–¥–æ—Ä': ['—Ç–æ–º–∞—Ç', '–ø–æ–º–∏–¥–æ—Ä—ã', '—Ç–æ–º–∞—Ç—ã', '–ø–æ–º–∏–¥–æ—Ä—á–∏–∫–∏'],\n    '–æ–≥—É—Ä–µ—Ü': ['–æ–≥—É—Ä—Ü—ã', '–æ–≥—É—Ä—á–∏–∫', '–º–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–π –æ–≥—É—Ä–µ—Ü'],\n    '—Å–≤–µ–∫–ª–∞': ['—Å–≤—ë–∫–ª–∞', '–±—É—Ä—è–∫', '–∫—Ä–∞—Å–Ω–∞—è —Å–≤–µ–∫–ª–∞'],\n    '–º–æ—Ä–∫–æ–≤—å': ['–º–æ—Ä–∫–æ–≤–∫–∞', '–º–æ—Ä–∫–æ–≤–æ—á–∫–∞', '–æ—Ä–∞–Ω–∂–µ–≤–∞—è –º–æ—Ä–∫–æ–≤—å'],\n\n    // –ú—è—Å–æ –∏ –ø—Ç–∏—Ü–∞\n    '–∫—É—Ä–∏—Ü–∞': ['–∫—É—Ä–æ—á–∫–∞', '—Ü—ã–ø–ª—ë–Ω–æ–∫', '–∫—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ', '–∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞'],\n    '–≥–æ–≤—è–¥–∏–Ω–∞': ['–≥–æ–≤—è–∂—å—è –≤—ã—Ä–µ–∑–∫–∞', '–º—Ä–∞–º–æ—Ä–Ω–∞—è –≥–æ–≤—è–¥–∏–Ω–∞', '–≥–æ–≤—è–∂–∏–π —Å—Ç–µ–π–∫'],\n    '—Å–≤–∏–Ω–∏–Ω–∞': ['—Å–≤–∏–Ω–æ–π –æ—à–µ–µ–∫', '—Å–≤–∏–Ω–∞—è –∫–æ—Ä–µ–π–∫–∞', '—Å–≤–∏–Ω–∏–Ω–∞ –Ω–∞ –∫–æ—Å—Ç–∏'],\n\n    // –†—ã–±–∞ –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã\n    '–ª–æ—Å–æ—Å—å': ['—Å—ë–º–≥–∞', '–ª–æ—Å–æ—Å–∏–Ω–∞', '—Ñ–∏–ª–µ –ª–æ—Å–æ—Å—è'],\n    '—Å–∫—É–º–±—Ä–∏—è': ['–º–∞–∫—Ä–µ–ª—å', '—Å–∫—É–º–±—Ä–∏—è –∫–æ–ø—á—ë–Ω–∞—è'],\n    '–∫—Ä–µ–≤–µ—Ç–∫–∏': ['–∫—Ä–µ–≤–µ—Ç–∫–∏ –∫–æ—Ä–æ–ª–µ–≤—Å–∫–∏–µ', '—Ç–∏–≥—Ä–æ–≤—ã–µ –∫—Ä–µ–≤–µ—Ç–∫–∏', '–∫—Ä–µ–≤–µ—Ç–æ—á–∫–∏'],\n\n    // –§—Ä—É–∫—Ç—ã/–Ø–≥–æ–¥—ã\n    '—è–±–ª–æ–∫–æ': ['—è–±–ª–æ–∫–∏', '–∞–Ω—Ç–æ–Ω–æ–≤–∫–∞', '–≥—Ä–µ–Ω–Ω–∏ —Å–º–∏—Ç'],\n    '–±–∞–Ω–∞–Ω': ['–±–∞–Ω–∞–Ω—ã', '–±–∞–Ω–∞–Ω—á–∏–∫', '–º–∏–Ω–∏-–±–∞–Ω–∞–Ω'],\n    '–∞–ø–µ–ª—å—Å–∏–Ω': ['–∞–ø–µ–ª—å—Å–∏–Ω—ã', '–æ—Ä–∞–Ω–∂', '—Å–ª–∞–¥–∫–∏–π –∞–ø–µ–ª—å—Å–∏–Ω'],\n\n    // –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã\n    '—Å–º–µ—Ç–∞–Ω–∞': ['—Å–º–µ—Ç–∞–Ω–∫–∞', '–¥–µ—Ä–µ–≤–µ–Ω—Å–∫–∞—è —Å–º–µ—Ç–∞–Ω–∞', '—Å–º–µ—Ç–∞–Ω–∞ 20%'],\n    '—Ç–≤–æ—Ä–æ–≥': ['—Ç–≤–æ—Ä–æ–∂–æ–∫', '–∑–µ—Ä–Ω—ë–Ω—ã–π —Ç–≤–æ—Ä–æ–≥', '—Ç–≤–æ—Ä–æ–≥ 5%'],\n\n    // –ö—Ä—É–ø—ã –∏ –∑–ª–∞–∫–∏\n    '–≥—Ä–µ—á–∫–∞': ['–≥—Ä–µ—á–Ω–µ–≤–∞—è –∫—Ä—É–ø–∞', '–≥—Ä–µ—á–∏—Ö–∞', '—è–¥—Ä–∏—Ü–∞'],\n    '—Ä–∏—Å': ['—Ä–∏—Å –±–∞—Å–º–∞—Ç–∏', '–¥–ª–∏–Ω–Ω–æ–∑—ë—Ä–Ω—ã–π —Ä–∏—Å', '—Ä–∏—Å–∏–Ω–∫–∏'],\n\n    // –°–ø–µ—Ü–∏–∏ –∏ —Ç—Ä–∞–≤—ã\n    '–±–∞–∑–∏–ª–∏–∫': ['–±–∞–∑–∏–ª–∏–∫ —Å–≤–µ–∂–∏–π', '–∑–µ–ª—ë–Ω—ã–π –±–∞–∑–∏–ª–∏–∫', '–±–∞–∑–∏–ª–∏–∫–æ–≤—ã–µ –ª–∏—Å—Ç—å—è'],\n    '—É–∫—Ä–æ–ø': ['—É–∫—Ä–æ–ø—á–∏–∫', '—Å–≤–µ–∂–∏–π —É–∫—Ä–æ–ø', '—É–∫—Ä–æ–ø–Ω—ã–µ –≤–µ—Ç–æ—á–∫–∏'],\n    '–∫–æ—Ä–∏—Ü–∞': ['–∫–æ—Ä–∏—á–Ω—ã–π –ø–æ—Ä–æ—à–æ–∫', '—Ü–µ–π–ª–æ–Ω—Å–∫–∞—è –∫–æ—Ä–∏—Ü–∞'],\n\n    // –°–ª–∞–¥–æ—Å—Ç–∏ –∏ –¥–æ–±–∞–≤–∫–∏\n    '—à–æ–∫–æ–ª–∞–¥': ['–≥–æ—Ä—å–∫–∏–π —à–æ–∫–æ–ª–∞–¥', '–º–æ–ª–æ—á–Ω—ã–π —à–æ–∫–æ–ª–∞–¥', '—à–æ–∫–æ–ª–∞–¥–∫–∞'],\n    '–º—ë–¥': ['—Ü–≤–µ—Ç–æ—á–Ω—ã–π –º—ë–¥', '–ª–∏–ø–æ–≤—ã–π –º—ë–¥', '–º—ë–¥ –≤ —Å–æ—Ç–∞—Ö'],\n\n    // –ù–∞–ø–∏—Ç–∫–∏\n    '–∫–≤–∞—Å': ['—Ö–ª–µ–±–Ω—ã–π –∫–≤–∞—Å', '–¥–æ–º–∞—à–Ω–∏–π –∫–≤–∞—Å', '–∫–≤–∞—Å–æ–∫'],\n    '–∫–æ—Ñ–µ': ['–∞—Ä–∞–±–∏–∫–∞', '—Ä–æ–±—É—Å—Ç–∞', '–∫–æ—Ñ–µ –≤ –∑—ë—Ä–Ω–∞—Ö'],\n\n    // –ì—Ä–∏–±—ã\n    '—à–∞–º–ø–∏–Ω—å–æ–Ω—ã': ['—à–∞–º–ø–∏–Ω—å–æ–Ω—ã —Å–≤–µ–∂–∏–µ', '–±–µ–ª—ã–µ –≥—Ä–∏–±—ã –º–∞–≥–∞–∑–∏–Ω–Ω—ã–µ'],\n    '–ª–∏—Å–∏—á–∫–∏': ['–ª–∏—Å–∏—á–∫–∏ –∂—ë–ª—Ç—ã–µ', '–ª–µ—Å–Ω—ã–µ –ª–∏—Å–∏—á–∫–∏'],\n\n    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n    '–∫—Ä–∞–±–æ–≤—ã–µ –ø–∞–ª–æ—á–∫–∏': ['–∏–º–∏—Ç–∞—Ü–∏—è –∫—Ä–∞–±–∞', '–∫—Ä–∞–±–æ–≤—ã–µ –ø–∞–ª–æ—á–∫–∏ —Å–Ω–µ–∂–Ω—ã–µ'],\n    '—Å–ª–æ—ë–Ω–æ–µ —Ç–µ—Å—Ç–æ': ['—Å–ª–æ—ë–Ω–æ–µ –±–µ–∑–¥—Ä–æ–∂–∂–µ–≤–æ–µ', '–≥–æ—Ç–æ–≤–æ–µ —Å–ª–æ—ë–Ω–æ–µ —Ç–µ—Å—Ç–æ'],\n\n    // –û—Å–æ–±—ã–µ —Å–ª—É—á–∞–∏ (—Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã)\n    '–∫—Ä–∞—Å–Ω–∞—è —Ä—ã–±–∞': ['–ª–æ—Å–æ—Å—å', '—Å—ë–º–≥–∞', '–≥–æ—Ä–±—É—à–∞', '–Ω–µ—Ä–∫–∞'],\n    '–±–µ–ª–æ–µ –≤–∏–Ω–æ': ['—à–∞—Ä–¥–æ–Ω–µ', '—Å–æ–≤–∏–Ω—å–æ–Ω –±–ª–∞–Ω', '–≤–∏–Ω–æ –¥–ª—è –≥–æ—Ç–æ–≤–∫–∏'],\n};\n\n\nconst ingredientNumberDictionary = {\n'–º—è—Å–æ':18, '—Ä—ã–±–∞':20, '–∫—Ä—É–ø–∞':21, '–º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã':22, '–æ–≤–æ—â–∏':23, '—Ñ—Ä—É–∫—Ç—ã':25, '–∫—Ä–∞—Å–Ω–∞—è —Ä—ã–±–∞':[29,304,306], '–∫—Ä–∞–±—ã':34, '–∫—Ä–µ–≤–µ—Ç–∫–∏':35, '–∫—É—Ä–∏—Ü–∞':36,\n'–ª—É–∫':37, '–∫–∞—Ä—Ç–æ—à–∫–∞':38, '–∫–∞—Ä—Ç–æ—Ñ–µ–ª—å':38, '–∫–∞–ø—É—Å—Ç–∞':39, '–ø–æ–º–∏–¥–æ—Ä—ã':40, '–ø–æ–º–∏–¥–æ—Ä':40, '—Ç–æ–º–∞—Ç—ã':40, '—Ç–æ–º–∞—Ç':40, '–æ–≥—É—Ä—Ü—ã':41, '–æ–≥—É—Ä–µ—Ü':41, '–∫–≤–∞—Å':104, '–∫–æ–º–ø–æ—Ç':105, '–∫—Ä–∞—Ö–º–∞–ª':106, '–±—É–ª—å–æ–Ω':107, '–≥–æ–≤—è–¥–∏–Ω–∞':110,\n'–±–∞—Ä–∞–Ω–∏–Ω–∞':111, '–≥—Ä–∏–±—ã':112, '–º–æ–ª–æ–∫–æ':115, '—Å–ª–∏–≤–∫–∏':117, '–π–æ–≥—É—Ä—Ç':118, '—Å–º–µ—Ç–∞–Ω–∞':119, '—è–π—Ü–∞':120, '—è–π—Ü–æ':120, '—Å—ã—Ä':121, '–∫–æ–ª–±–∞—Å–∞':122, '–∫–∞–±–∞—á–∫–∏':123, '–∫–∞–±–∞—á–æ–∫':123,\n'—Å–≤–∏–Ω–∏–Ω–∞':124, '–∫–ª—É–±–Ω–∏–∫–∞':125, '–∫–ª—é–∫–≤–∞':126, '—Ä–∏—Å':129, '—Ö–ª–µ–±–æ–±—É–ª–æ—á–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è':130, '—è–±–ª–æ–∫–∏':132, '—è–±–ª–æ–∫–æ':132, '—Ä–µ–ø–∞':133, '—Ñ–∏–Ω–∏–∫–∏':134, '—Ñ–∏–Ω–∏–∫':134, '–º–æ—Ä–æ–∂–µ–Ω–æ–µ':135, '—à–æ–∫–æ–ª–∞–¥':136,\n'–≥—Ä—É—à–∏':138, '–≥—Ä—É—à–∞':138, '–≥—Ä–µ–π–ø—Ñ—Ä—É—Ç':139, '—Ç—ã–∫–≤–∞':140, '–≥—Ä–∞–Ω–∞—Ç':141, '–∫—É–∫—É—Ä—É–∑–∞':142, '–æ–≤—ë—Å':143, '–æ–≤–µ—Å':143, '–ø–µ—Ä–ª–æ–≤–∫–∞':144, '–ø—à–µ–Ω–∏—á–Ω–∞—è –∫—Ä—É–ø–∞':145, '—Å–ª–∏–≤—ã':146, '—Å–ª–∏–≤–∞':146, '–±–∞–Ω–∞–Ω—ã':147, '–±–∞–Ω–∞–Ω':147,\n'–ª–∏–º–æ–Ω—ã':148, '–ª–∏–º–æ–Ω':148, '–º–∞–ª–∏–Ω–∞':149, '–∏–Ω–¥–µ–π–∫–∞':151, '–≥—É—Å—å':154, '—Å–≤–µ–∫–ª–∞':155, '–±–æ–ª–≥–∞—Ä—Å–∫–∏–π –ø–µ—Ä–µ—Ü':156, '–º–æ—Ä–∫–æ–≤—å':157, '—Ö–æ–ª–æ–¥–µ—Ü':159, '–º–æ–ª–ª—é—Å–∫–∏':160, '–≥–æ—Ä–æ—Ö':162,\n'–¥—ã–Ω—è':166, '—Å–ø–∞—Ä–∂–∞':168, '–±–∞–∫–ª–∞–∂–∞–Ω—ã':170, '–±–∞–∫–ª–∞–∂–∞–Ω':170, '–∏–Ω–∂–∏—Ä':171, '–º—ë–¥':172, '–±–æ–±–æ–≤—ã–µ':173, '—Ñ–∞—Å–æ–ª—å':175, '–≤–∏–Ω–æ–≥—Ä–∞–¥':177, '–∫–∞–ª—å–º–∞—Ä—ã':180, '—É—Ç–∫–∞':181,\n'–º–∞–Ω–∫–∞':182, '—Å–º–æ—Ä–æ–¥–∏–Ω–∞':183, '—Å–µ–ª—ë–¥–∫–∞':184, '—â—É–∫–∞':185, '–ø–µ—á–µ–Ω—å':186, '–º–∞–∫–∞—Ä–æ–Ω—ã':187, '–æ—Å–µ—Ç—Ä–∏–Ω–∞':189, '–∫—Ä–æ–ª–∏–∫':190, '—Ç–≤–æ—Ä–æ–≥':191, '—Å—É–¥–∞–∫':196,\n'—à–∞–º–ø–∏–Ω—å–æ–Ω—ã':197, '—Ç—Ä–µ—Å–∫–∞':199, '–º–∏–Ω—Ç–∞–π':200, '—Ç–µ–ª—è—Ç–∏–Ω–∞':201, '–æ—Ä–µ—Ö–∏':203, '–æ—Ä–µ—Ö':203, '–æ–∫—É–Ω—å':206, '–∞–Ω—á–æ—É—Å—ã':207, '—Ä—ã–±–Ω—ã–µ —Å—É–ø—ã':208, '—Å–∫—É–º–±—Ä–∏—è':209, '–±—Ä—ã–Ω–∑–∞':210,\n'–≤–µ—à–µ–Ω–∫–∏':211, '–ª–∏—Å–∏—á–∫–∏':212, '–ø—à–µ–Ω–æ':213, '—Å—É—Ö–æ—Ñ—Ä—É–∫—Ç—ã':215, '–∫–∞—à—Ç–∞–Ω—ã':217, '–∫–∞—à—Ç–∞–Ω':217, '–º–∞–Ω–¥–∞—Ä–∏–Ω—ã':218, '–º–∞–Ω–¥–∞—Ä–∏–Ω':218, '–∫–∞—Ä–ø':220, '–≥—Ä–µ—Ü–∫–∏–µ –æ—Ä–µ—Ö–∏':221, '–≥—Ä–µ—Ü–∫–∏–π –æ—Ä–µ—Ö':221, '—Ç–≤—ë—Ä–¥—ã–π —Å—ã—Ä':223, '–∞–Ω–∞–Ω–∞—Å—ã':225, '–∞–Ω–∞–Ω–∞—Å':225,\n'—Å–æ–ª–µ–Ω—å—è':226, '–∞—Ä—Ç–∏—à–æ–∫–∏':227, '—Å–∞–ª–æ':228, '–≤–∞—Ä–µ–Ω—å–µ':229, '—á–µ—Å–Ω–æ–∫':231, '—Ö—Ä–µ–Ω':232, '–ø–ª–∞–≤–ª–µ–Ω–Ω—ã–π —Å—ã—Ä':233, '—Ñ—É–Ω–¥—É–∫':241, '–≥—Ä–µ—á–∫–∞':242, '–ø–∏–≤–æ':243,\n'–º–∏–Ω–¥–∞–ª—å':244, '–∞—Ä–∞—Ö–∏—Å':245, '—Ü–≤–µ—Ç–Ω–∞—è –∫–∞–ø—É—Å—Ç–∞':246, '–∞–≤–æ–∫–∞–¥–æ':247, '–∫–∞–º–±–∞–ª–∞':248, '–∫–∞—Ä–∞—Å—å':249, '–º–æ—Ä—Å–∫–æ–π —è–∑—ã–∫':251, '–±–µ–ª—ã–µ –≥—Ä–∏–±—ã':252, '–±–µ–ª—ã–π –≥—Ä–∏–±':252, '—Ç—Ä—é—Ñ–µ–ª–∏':253, '—Ç—Ä—é—Ñ–µ–ª—å':253, '—à–∏–∏—Ç–∞–∫–µ':254,\n'—Ä—ã–∂–∏–∫–∏':255, '–ø–æ–¥–±–µ—Ä—ë–∑–æ–≤–∏–∫–∏':256, '–ø–æ–¥–±–µ—Ä—ë–∑–æ–≤–∏–∫':256, '–ø–æ–¥–æ—Å–∏–Ω–æ–≤–∏–∫–∏':257, '–ø–æ–¥–æ—Å–∏–Ω–æ–≤–∏–∫':257, '–º–∞—Å–ª—è—Ç–∞':258, '–≥—Ä—É–∑–¥–∏':259, '–≥—Ä—É–∑–¥—å':259, '—Å–º–æ—Ä—á–∫–∏':260, '–æ–ø—è—Ç–∞':261, '–∞–π–≤–∞':262, '—à–ø–∏–Ω–∞—Ç':264, '–±—Ä–æ–∫–∫–æ–ª–∏':265,\n'—Å–ø–µ—Ü–∏–∏':266, '–≤–∏–Ω–æ':269, '–∞–Ω–∏—Å':270, '–±–∞–∑–∏–ª–∏–∫':271, '–≥–≤–æ–∑–¥–∏–∫–∞':272, '–∏–º–±–∏—Ä—å':273, '–∏—Å—Å–æ–ø':274, '–∫–∞–ª–∞–º–∏–Ω—Ç–∞':275, '–∫–∞—Ä–¥–∞–º–æ–Ω':276, '–∫–∏–Ω–∑–∞':277,\n'–∫–æ—Ä–∏—Ü–∞':278, '–∫—É—Ä–∫—É–º–∞':280, '–ª–∞–≤—Ä–æ–≤—ã–π –ª–∏—Å—Ç':281, '–º–∞–π–æ—Ä–∞–Ω':282, '–º—è—Ç–∞':283, '–æ—Ä–µ–≥–∞–Ω–æ':284, '—á—ë—Ä–Ω—ã–π –ø–µ—Ä–µ—Ü':285, '–ø–µ—Ç—Ä—É—à–∫–∞':286, '—Ä–æ–∑–º–∞—Ä–∏–Ω':287, '—Å–µ–ª—å–¥–µ—Ä–µ–π':288,\n'—Ç–∞—Ä—Ö—É–Ω':289, '—Ç–∏–º—å—è–Ω':290, '—É–∫—Ä–æ–ø':291, '—Ñ–µ–Ω—Ö–µ–ª—å':292, '—à–∞—Ñ—Ä–∞–Ω':296, '–ª–µ—á–æ':298, '–±–µ–ª–æ–µ –≤–∏–Ω–æ':300, '—Ä–µ–¥–∏—Å–∫–∞':303, '—Ä–µ–¥–∏—Å':303,\n'–º–æ—Ä—Å':311, '–∫–æ—Ñ–µ':314, '—è—á–Ω–µ–≤–∞—è –∫—Ä—É–ø–∞':315, '–¥—Ä–æ–∂–∂–∏':316, '–º—É–∫–∞':317, '–∫–∞–ª–∏–Ω–∞':319, '–≥–æ—Ä—á–∏—Ü–∞':320, '—Å–æ–µ–≤—ã–π —Å–æ—É—Å':322, '–∞—Ä–±—É–∑':323, '—á–µ—Ä–Ω–∏–∫–∞':324,\n'–∫–∏–≤–∏':325, '–ª–∞–π–º':326, '—Ä—è–±–∏–Ω–∞':327, '—Ö—É—Ä–º–∞':329, '–∑–∏—Ä–∞':330, '—Å–∞—Ö–∞—Ä':332, '–∞–±—Ä–∏–∫–æ—Å—ã':335, '–∞–±—Ä–∏–∫–æ—Å':335, '–∫–∏—Å–ª–æ–µ —Ç–µ—Å—Ç–æ':340, '–ø–µ—Å–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–æ':341, '–ø—Ä–µ—Å–Ω–æ–µ —Ç–µ—Å—Ç–æ':342,\n'—Å–¥–æ–±–Ω–æ–µ —Ç–µ—Å—Ç–æ':343, '—Å–ª–æ—ë–Ω–æ–µ —Ç–µ—Å—Ç–æ':344, '—Ö–ª–µ–±–Ω–æ–µ —Ç–µ—Å—Ç–æ':345, '—á–µ—Ä–µ—à–Ω—è':347, '–∫–µ—Ñ–∏—Ä':348, '–ø–µ—Ä—Å–∏–∫–∏':349, '–ø–µ—Ä—Å–∏–∫':349, '–≤–∏—à–Ω—è':350, '–∫—Ä—ã–∂–æ–≤–Ω–∏–∫':351, '—Ç–º–∏–Ω':353, '–∫–∞—Ä—Ä–∏':354,\n'—â–∞–≤–µ–ª—å':356, '–∫–æ–ª—å—Ä–∞–±–∏':358, '—Å–∞–≤–æ–π—Å–∫–∞—è –∫–∞–ø—É—Å—Ç–∞':359, '–∫—Ä–∞—Å–Ω–æ–∫–æ—á–∞–Ω–Ω–∞—è –∫–∞–ø—É—Å—Ç–∞':360, '—Ä—è–∂–µ–Ω–∫–∞':361, '–ø–æ—á–∫–∏':364, '–ø–∞—Å—Ç–µ—Ä–Ω–∞–∫':365, '–æ–ª–∏–≤–∫–∏':366, '–±—Ä—É—Å–Ω–∏–∫–∞':370, '–±—Ä—é—Å—Å–µ–ª—å—Å–∫–∞—è –∫–∞–ø—É—Å—Ç–∞':372,\n'–≤–∞–Ω–∏–ª—å':374, '—Å–≥—É—â—ë–Ω–Ω–æ–µ –º–æ–ª–æ–∫–æ':375, '–∂–µ–ª–µ':377, '–∑–µ–ª—ë–Ω—ã–π –≥–æ—Ä–æ—à–µ–∫':378, '—à–æ–∫–æ–ª–∞–¥–Ω–æ–µ –º–∞—Å–ª–æ':379, '—á–µ—Ä–µ–º—à–∞':381, '—Å—ã—Ä —Å—É–ª—É–≥—É–Ω–∏':382, '–∞–ª—ã—á–∞':383, '—á–µ—á–µ–≤–∏—Ü–∞':385,\n'—Å—É—Ö–∞—Ä–∏–∫–∏':388, '—Å—É—Ö–∞—Ä–∏':388, '—Å–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ':391, '–∫–æ–∫–æ—Å':392, '—à–∞–ª—Ñ–µ–π':393, '–æ–ª–∞–¥—å–∏':396, '–∫—Ä–∞—Å–Ω–æ–µ –≤–∏–Ω–æ':397, '–±–ª–∏–Ω—ã':400, '–¥—Ä–æ–∂–∂–µ–≤–æ–µ —Ç–µ—Å—Ç–æ':403, '–∫–∞—à–∏':404, '—Å—É—à–∏':405,\n'–∫—Ä–∞–±–æ–≤—ã–µ –ø–∞–ª–æ—á–∫–∏':406, '–º–æ–ª–æ—á–Ω—ã–µ —Å—É–ø—ã':409, '–º–∞–π–æ–Ω–µ–∑':415, '—É–∫—Å—É—Å':416, '–º–∞—Å–ª–∏–Ω—ã':423, '–º–æ—Ä—Å–∫–∞—è –∫–∞–ø—É—Å—Ç–∞':425, '–≤–µ—Ç—á–∏–Ω–∞':426, '—Å–∞–∫—ç':428, '—Ñ–æ—Ä–µ–ª—å':432, '–ø—Ä–æ—Å—Ç–æ–∫–≤–∞—à–∞':434,\n'—Å—É–±–ø—Ä–æ–¥—É–∫—Ç—ã':435, '–ø–∞—Å—Ç–∞ –º–∏—Å–æ':437, '—Ä–µ–¥—å–∫–∞':439, '–≤–æ–¥–æ—Ä–æ—Å–ª–∏':441, '–º–∞—Ä–≥–∞—Ä–∏–Ω':442, '–ª—É–∫ —à–∞–ª–æ—Ç':443, '–∫—É–∫—É—Ä—É–∑–Ω–∞—è –∫—Ä—É–ø–∞':444, '–¥–∞–π–∫–æ–Ω':445, '–∫—É—Ä–∞–≥–∞':450, '–∏–∑—é–º':451,\n'—á–µ—Ä–Ω–æ—Å–ª–∏–≤':452, '–∫–∏—Ç–∞–π—Å–∫–∞—è –∫–∞–ø—É—Å—Ç–∞':455, '—Ä–æ–º':457, '–º–∞–Ω–≥–æ':458, '—Ñ–∏—Å—Ç–∞—à–∫–∏':460, '–ø–æ–≤–∏–¥–ª–æ':462, '—Ä–æ—Å—Ç–∫–∏ –±–∞–º–±—É–∫–∞':466, '–∫–µ–¥—Ä–æ–≤—ã–µ –æ—Ä–µ—Ö–∏':467, '–∫–µ–¥—Ä–æ–≤—ã–π –æ—Ä–µ—Ö':467, '–≤–æ–¥–∫–∞':468, '—Ö–µ—Ä–µ—Å':470,\n'–±—É–ª–≥—É—Ä':471, '–≤–µ—Ä–º–∏—à–µ–ª—å':472, '–ª—É–∫ –ø–æ—Ä–µ–π':474, '—Ä–µ–≤–µ–Ω—å':478, '—Ñ–∞—Ä—à':479, '—Ö–ª–µ–±':480,\n\n}\n\nconst incomingData = $input.all()[0].json.choices[0].message.content\n\nconsole.log(incomingData)\n\nconst ingredientsArray = incomingData.split(', ')\n//const ingredientsArray = incomingData\n// –°–¢–ê–†–ê–Ø –õ–û–ì–ò–ö–ê –§–û–†–ú–ò–†–û–í–ê–ù–ò–Ø numbersArray\n\n        const numbersArray = ingredientsArray.map((el)=>{\n          return String(ingredientNumberDictionary[el])\n        })\n\n// –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê –§–û–†–ú–ò–†–û–í–ê–ù–ò–Ø numbersArray\n\n        // const numbersArray = ingredientsArray.map((el) => {\n        //   const normalizedEl = el.toLowerCase().trim();\n        //   let matchedKey = null;\n        \n        //   // –ü–æ–∏—Å–∫ –≤ —Å–∏–Ω–æ–Ω–∏–º–∞—Ö\n        //   for (const [key, synonyms] of Object.entries(ingredientSynonyms)) {\n        //     if (synonyms.includes(normalizedEl)) {\n        //       matchedKey = key;\n        //       break;\n        //     }\n        //   }\n        \n        //   // –ü–æ–∏—Å–∫ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–ª–æ–≤–∞—Ä–µ\n        //   if (!matchedKey) {\n        //     matchedKey = Object.keys(ingredientNumberDictionary).find(\n        //       (dictKey) => dictKey === normalizedEl\n        //     );\n        //   }\n        \n        //   return matchedKey \n        //     ? String(ingredientNumberDictionary[matchedKey]) \n        //     : \"Does not exist\";\n        // });\n\n\nreturn {\n  'ingredientNumber': numbersArray\n}\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2704,1456],"id":"0385ded7-e59c-42de-a702-d620093f88ff","name":"Return Ingredient Number"},{"parameters":{"chatId":"={{ $json.message.chat.id }}","text":"=–ü—Ä–∏–≤–µ—Ç, {{ $json.message.from.first_name}}!\n–Ø - —Ç–≤–æ–π –ª–∏—á–Ω—ã–π –®–µ—Ñ-–ø–æ–≤–∞—Ä –≤—ã—Å—à–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.\n–°–º–æ–≥—É –ø–æ—Å–æ–≤–µ—Ç–æ–≤–∞—Ç—å —Ç–µ–±–µ —Ä–µ—Ü–µ–ø—Ç —Å –ø–æ—à–∞–≥–æ–≤–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –ø–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—é.\n–í—ã–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –±–ª—é–¥–∞, –≤–≤–µ–¥–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –∏ –ø–æ–ª—É—á–∏ –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç!\n–Ø - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª: —Ä–∞–±–æ—Ç–∞—é —á—ë—Ç–∫–æ, –±—ã—Å—Ç—Ä–æ, —è–∑—ã–∫–æ–º –Ω–µ —Ç—Ä–µ–ø–ª—é.\n–Ø —Å–µ–π—á–∞—Å –Ω–∞ —Ä–∞—Å—Ö–≤–∞—Ç, –ø–æ—ç—Ç–æ–º—É —Ä–∞–±–æ—Ç–∞—é —Ç–æ–ª—å–∫–æ –ø–æ –æ–¥–Ω–æ–º—É –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—É.\n–¢–∞–∫ —á—Ç–æ —Ö–≤–∞—Ç–∏—Ç —Ç—Ä–µ–ø–∞—Ç—Å—è! –ë–ª–∏–∂–µ –∫ –¥–µ–ª—É!\n–í—ã–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –¥–ª—è –±–ª—é–¥–∞.","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"–°—É–ø—ã","additionalFields":{"callback_data":"cat_–°—É–ø—ã"}},{"text":"–ì–∞—Ä–Ω–∏—Ä—ã","additionalFields":{"callback_data":"cat_–ì–∞—Ä–Ω–∏—Ä—ã"}},{"text":"2-–µ –±–ª—é–¥–∞","additionalFields":{"callback_data":"cat_2-–µ –±–ª—é–¥–∞"}}]}},{"row":{"buttons":[{"text":"–°–∞–ª–∞—Ç—ã","additionalFields":{"callback_data":"cat_–°–∞–ª–∞—Ç—ã"}},{"text":"–°–æ—É—Å—ã","additionalFields":{"callback_data":"cat_–°–æ—É—Å—ã"}},{"text":"–ó–∞–∫—É—Å–∫–∏","additionalFields":{"callback_data":"cat_–ó–∞–∫—É—Å–∫–∏"}}]}},{"row":{"buttons":[{"text":"–ó–∞–≤—Ç—Ä–∞–∫–∏","additionalFields":{"callback_data":"cat_–ó–∞–≤—Ç—Ä–∞–∫–∏"}},{"text":"–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã","additionalFields":{"callback_data":"cat_–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã"}},{"text":"–í—ã–ø–µ—á–∫–∞","additionalFields":{"callback_data":"cat_–í—ã–ø–µ—á–∫–∞"}}]}},{"row":{"buttons":[{"text":"–ú–æ–ª–æ—á–∫–∞","additionalFields":{"callback_data":"cat_–ú–æ–ª–æ—á–∫–∞"}},{"text":"–ù–∞–ø–∏—Ç–∫–∏","additionalFields":{"callback_data":"cat_–ù–∞–ø–∏—Ç–∫–∏"}},{"text":"–î–µ—Å–µ—Ä—Ç—ã","additionalFields":{"callback_data":"cat_–î–µ—Å–µ—Ä—Ç—ã"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2784,-128],"id":"43839fea-5900-481f-92a2-3433797a3a7d","name":"Send MSG on start","webhookId":"69cd01cb-fb30-4f89-98bc-d8aa05f6c3b1","disabled":true},{"parameters":{"jsCode":"\nconst categories ={\n  '–ó–∞–∫—É—Å–∫–∏'   :\t'7125',\n  '–ù–∞–ø–∏—Ç–∫–∏'   :\t'6500',\n  '–°–∞–ª–∞—Ç—ã'    :\t'47',\n  '–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã':\t'127',\n  '–ú–æ–ª–æ—á–∫–∞'   :\t'6633',\n  '–°—É–ø—ã'      :\t'12',\n  '2-–µ –±–ª—é–¥–∞' :\t'13',\n  '–ì–∞—Ä–Ω–∏—Ä—ã'   :\t'476',\n  '–°–æ—É—Å—ã'     :\t'15',\n  '–î–µ—Å–µ—Ä—Ç—ã'   :\t'14',\n  '–í—ã–ø–µ—á–∫–∞'   :\t'11',\n  '–ó–∞–≤—Ç—Ä–∞–∫–∏'  : '188',\n}\n\nconst category = $input.first().json.categoryName\n\nreturn {'category_number':(categories[category])}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2128,912],"id":"6fe2406d-45d5-4cd9-965d-d4419e05c0df","name":"Return Category Number","disabled":true},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.message.text }}","rightValue":"/start","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"start"}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[1008,-272],"id":"22f9e79b-a7e0-4ef0-894b-84b82ee167ce","name":"Switch Command"},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.message.entities[0].type }}","rightValue":"bot_command","operator":{"type":"string","operation":"equals"},"id":"96603192-5cef-44cb-8996-66f41baa578f"}],"combinator":"and"},"renameOutput":true,"outputKey":"command"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"60739636-e901-4db7-86f2-253bc36617da","leftValue":"={{ \n    $json.hasOwnProperty( \"callback_query\" )\n    &&\n    $json.callback_query.data.startsWith('searchType')\n}}","rightValue":"","operator":{"type":"boolean","operation":"true","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"searchType_callback"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"e5eea284-2e71-4f91-bc79-8769d80a7b90","leftValue":"={{ \n    $json.hasOwnProperty( \"callback_query\" )\n    &&\n    $json.callback_query.data.startsWith('cat')\n}}","rightValue":"","operator":{"type":"boolean","operation":"true","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"cat_callback"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"8440aafd-efb2-462b-a4c3-935255f65adf","leftValue":"={{ !!($json.message.text) }}","rightValue":"","operator":{"type":"boolean","operation":"true","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"another "},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"7a01aaca-ffe2-43f0-93d0-29218b07d6c7","leftValue":"={{ \n    $json.hasOwnProperty( \"callback_query\" )\n    &&\n    $json.callback_query.data.startsWith('rec')\n}}","rightValue":"","operator":{"type":"boolean","operation":"true","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"rec_callback"}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[128,1168],"id":"9bb9e81c-c4a1-4bf7-8bf0-70e49ac691e8","name":"Switch message type"},{"parameters":{"updates":["*"],"additionalFields":{}},"type":"n8n-nodes-base.telegramTrigger","typeVersion":1.1,"position":[-128,1216],"id":"c1da2668-9568-41d3-b4b0-e07be91f868e","name":"Get MSG","webhookId":"a4d68239-a2da-4162-8c99-b88fd96c437e","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"authentication":"serviceAccount","operation":"upsert","projectId":"mysuperchief","collection":"={{ $json.collection }}","updateKey":"=key","columns":"=categoryName"},"type":"n8n-nodes-base.googleFirebaseCloudFirestore","typeVersion":1.1,"position":[2640,912],"id":"8139c1e5-ff16-4178-83ac-335fbee2fda0","name":"Firestore Set cateoryName","disabled":true},{"parameters":{"authentication":"serviceAccount","operation":"upsert","projectId":"mysuperchief","collection":"={{ $json.collection }}","updateKey":"=key","columns":"=categoryNumber"},"type":"n8n-nodes-base.googleFirebaseCloudFirestore","typeVersion":1.1,"position":[2768,912],"id":"b477e433-dbb6-43cd-9e41-332a3ad61658","name":"Firestore Set categoryNumber","disabled":true},{"parameters":{"chatId":"={{ $json.chat_id }}","text":"=–û—Ç–ª–∏—á–Ω–æ! –¢—ã –≤—ã–±—Ä–∞–ª \"{{ $json.category_name }}\"\n–ê —Ç–µ–ø–µ—Ä—å –≤–≤–µ–¥–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ –ó–ê–ü–Ø–¢–£–Æ","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2432,640],"id":"e32eda75-ffa1-4183-a18a-9859295a9e3b","name":"Send MSG On Any Category","webhookId":"1eb18309-473f-4e3c-8976-fae6b8ce2dfc","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3,"position":[2928,1472],"id":"439dd6c2-fae0-4b24-9f5f-ae6e87f2138c","name":"Merge1"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3,"position":[2256,912],"id":"9267a54f-053a-456e-893c-9aa01ee032d8","name":"Category Name + Message Info","disabled":true},{"parameters":{"chatId":"={{ $json.message.from.id }}","text":"=–ò–¥—ë—Ç –ø–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –ø–æ –í–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[3104,1248],"id":"19b59b2e-4a9f-4e06-80f8-994d1375e482","name":"Send MSG About Searching","webhookId":"53c3ab79-5791-4920-aa28-efe26af97306","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"jsCode":"const inputData    = $input.all()[0].json.callback_query.data\nconst categoryName = inputData.split('_')[1]\nconst chatId       = $input.all()[0].json.callback_query.message.chat.id\nconst userName     = $input.all()[0].json.callback_query.from.first_name\nconst userNickname  = $input.all()[0].json.callback_query.from.username\nconst categories ={\n  '–ó–∞–∫—É—Å–∫–∏'   :\t'7125',\n  '–ù–∞–ø–∏—Ç–∫–∏'   :\t'6500',\n  '–°–∞–ª–∞—Ç—ã'    :\t'47',\n  '–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã':\t'127',\n  '–ú–æ–ª–æ—á–∫–∞'   :\t'6633',\n  '–°—É–ø—ã'      :\t'12',\n  '2-–µ –±–ª—é–¥–∞' :\t'13',\n  '–ì–∞—Ä–Ω–∏—Ä—ã'   :\t'476',\n  '–°–æ—É—Å—ã'     :\t'15',\n  '–î–µ—Å–µ—Ä—Ç—ã'   :\t'14',\n  '–í—ã–ø–µ—á–∫–∞'   :\t'11',\n  '–ó–∞–≤—Ç—Ä–∞–∫–∏'  : '188',\n}\n\n\nreturn {\n  \"chat_id\"        : chatId,\n  \"user_name\"      : userName,\n  \"user_nickname\"   : userNickname,\n  \"category_name\"  : categoryName,\n  \"category_number\": categories[categoryName]\n}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1008,640],"id":"b69151c4-f221-467f-bc36-dda22e1207c8","name":"Return Category Chat ID User Info"},{"parameters":{"jsCode":"const baseUrl = 'https://1000.menu/cooking/'\n\nconst incomingData = $('Get MSG').all()[0].json.callback_query.data\nconst allUrls = $input.all()[0].json.recipes_map\n\nconst urlNumber = incomingData.split('_')[1]\nconst url = allUrls[urlNumber];\nconst recipeUrl = baseUrl + urlNumber +'-'+url\n\nreturn {\n  \"recipeUrl\":recipeUrl,\n}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1136,2528],"id":"d77a0dff-ef09-44fd-af0b-73f19bb5c241","name":"Return Recipe Url"},{"parameters":{"url":"={{ $json.recipeUrl }}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1328,2528],"id":"23869a32-9d2f-42fc-820c-4d232af6e84d","name":"HTTP Request"},{"parameters":{"chatId":"={{ $json.chadId }}","text":"=–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ!!!\n–§–æ—Ä–º–∏—Ä—É–µ–º —Ä–µ—Ü–µ–ø—Ç —Å–æ–≥–ª–∞—Å–Ω–æ –í–∞—à–µ–º—É –≤—ã–±–æ—Ä—É.","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2928,2096],"id":"f1790441-02f4-47d2-bb68-77747f67197d","name":"MSG after selecting dish","webhookId":"8b65c19a-10e4-4608-b931-10409f19d692","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"jsCode":"const incomingData = $input.all()[0].json.choices[0].message.content\n\nconst url = !(incomingData.startsWith('http'))\n    ? 'https:' + incomingData\n    : incomingData;\n\nreturn {\n  \"url\":url\n}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2320,2304],"id":"0d7290f9-5ddc-4f4c-91cc-9d3ff5890767","name":"Return Img Url"},{"parameters":{"operation":"sendPhoto","chatId":"={{ $json.chadId }}","file":"={{ $json.url }}","additionalFields":{}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2928,2304],"id":"44dfcff2-a95d-4338-a1de-a7566a34652e","name":"Send Img","webhookId":"c34519e7-f602-4822-be23-5b0fe105ba5e","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"chatId":"={{ $json.chadId }}","text":"={{ $json.ingredients }}","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2928,2528],"id":"991d556e-cef7-4bd4-96cd-1d7d181183e1","name":"Send Ingredients","webhookId":"4302b026-cabb-43ee-863c-cde391dda678","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"chatId":"={{ $json.chadId }}","text":"={{ $json.instructions }}","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2928,2736],"id":"9cfcbb36-29bf-4ad2-87b5-91da182da16a","name":"Send Instructions","webhookId":"41d17427-1ece-407a-82eb-e4238f2843a8","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"jsCode":"const chadId = $input.first().json.callback_query.message.chat.id\nreturn {\n  \"chadId\":chadId\n}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2320,2096],"id":"cb589b8a-3942-456c-8011-b5986e1c1f64","name":"Return ChatId"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3,"position":[2704,2304],"id":"466bf9b3-9317-40f7-bf0e-0ffc25deef7a","name":"Category Name + Message Info1"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3,"position":[2704,2528],"id":"dd7c4067-106e-4b90-98b2-8ac930c31f0e","name":"Category Name + Message Info2"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3,"position":[2704,2736],"id":"0fe3dba8-7a3e-4a5f-bf76-675b558e5313","name":"Category Name + Message Info3"},{"parameters":{"chatId":"={{ $json.message.chat.id }}","text":"=–Ø —Ç–µ–±–µ —Ç—É—Ç –Ω–µ –±–∞–±—É—à–∫–∞ –Ω–∞ –∫—É—Ö–Ω–µ, –∞ —à–µ—Ñ-–ø–æ–≤–∞—Ä, –≤–∞—à—É –º–∞—Ç—å!\n*–†–∞–±–æ—Ç–∞—é –±–µ–∑ —Å–æ–ø–ª–µ–π* ‚Äî –¥–∞—é —Ä–µ—Ü–µ–ø—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ * —Ä–µ–∞–ª—å–Ω–æ * —Ä–∞–±–æ—Ç–∞—é—Ç.  \n\n*–ö–æ—Ä–æ—á–µ, —Å–ª—É—à–∞–π —Å—é–¥–∞:*  \n1. **–í—ã–±–µ—Ä–∏ —Ç–∏–ø –±–ª—é–¥–∞** (–∂–∞—Ä—å, –ø–∞—Ä—å, –∑–∞–ø–µ–∫–∞–π ‚Äî –æ–¥–∏–Ω —Ö—Ä–µ–Ω).  \n2. **–ö–∏–Ω—å –¥–æ 5 –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤** (–±–æ–ª—å—à–µ –Ω–µ –ø–æ—Ç—è–Ω—É ‚Äî –Ω–∞—Ä–æ–¥ –ª–æ–º–∏—Ç—Å—è –∫–∞–∫ –Ω–µ –≤ —Å–µ–±—è).  \n3. **–ü–æ–ª—É—á–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é** ‚Äî —á–µ—Ç–∫–æ, –ø–æ —à–∞–≥–∞–º, –±–µ–∑ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏.\n\n*–ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ—Å—Ç—ã–µ:* –Ω–µ —Ä–∞–∑–º–∞–∑—ã–≤–∞–π, –Ω–µ —É–º–Ω–∏—á–∞–π, *–≥–æ–≤–æ—Ä–∏ —á—ë—Ç–∫–æ –ø–æ —Å—É—Ç–∏*.\n–Ø –Ω–µ –∫–∞–∫–æ–π-—Ç–æ —Ç–∞–º ChatGPT, —á—Ç–æ–±—ã —Ç—Ä–µ–ø–∞—Ç—å—Å—è ‚Äî *—Ç–æ–ª—å–∫–æ –¥–µ–ª–æ*.\n\n**–í–æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Äî —Ç–≤–æ–π –≤—ã–±–æ—Ä.**  \n\n*–ò –ø–æ—à—É—Å—Ç—Ä–µ–µ, {{ $json.message.from.first_name }}!\n–¢—ã –∂–µ –≤–µ–¥—å —Å—é–¥–∞ –∂—Ä–∞—Ç—å –ø—Ä–∏—à–µ–ª, –∞ –Ω–µ –±–æ–ª—Ç–∞—Ç—å?*\n\n","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"–°—É–ø—ã","additionalFields":{"callback_data":"cat_–°—É–ø—ã"}},{"text":"–ì–∞—Ä–Ω–∏—Ä—ã","additionalFields":{"callback_data":"cat_–ì–∞—Ä–Ω–∏—Ä—ã"}},{"text":"2-–µ –±–ª—é–¥–∞","additionalFields":{"callback_data":"cat_2-–µ –±–ª—é–¥–∞"}}]}},{"row":{"buttons":[{"text":"–°–∞–ª–∞—Ç—ã","additionalFields":{"callback_data":"cat_–°–∞–ª–∞—Ç—ã"}},{"text":"–°–æ—É—Å—ã","additionalFields":{"callback_data":"cat_–°–æ—É—Å—ã"}},{"text":"–ó–∞–∫—É—Å–∫–∏","additionalFields":{"callback_data":"cat_–ó–∞–∫—É—Å–∫–∏"}}]}},{"row":{"buttons":[{"text":"–ó–∞–≤—Ç—Ä–∞–∫–∏","additionalFields":{"callback_data":"cat_–ó–∞–≤—Ç—Ä–∞–∫–∏"}},{"text":"–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã","additionalFields":{"callback_data":"cat_–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã"}},{"text":"–í—ã–ø–µ—á–∫–∞","additionalFields":{"callback_data":"cat_–í—ã–ø–µ—á–∫–∞"}}]}},{"row":{"buttons":[{"text":"–ú–æ–ª–æ—á–∫–∞","additionalFields":{"callback_data":"cat_–ú–æ–ª–æ—á–∫–∞"}},{"text":"–ù–∞–ø–∏—Ç–∫–∏","additionalFields":{"callback_data":"cat_–ù–∞–ø–∏—Ç–∫–∏"}},{"text":"–î–µ—Å–µ—Ä—Ç—ã","additionalFields":{"callback_data":"cat_–î–µ—Å–µ—Ä—Ç—ã"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2688,-128],"id":"157b7078-334d-4dc6-94aa-50c9b08b7821","name":"Send MSG on start1","webhookId":"b3cc909c-b06b-42ef-8566-886e586e1ca8","disabled":true},{"parameters":{"chatId":"={{ $json.message.chat.id }}","text":"=–¢—ã—Å—è—á–∞ —á–µ—Ä—Ç–µ–π, {{ $json.message.from.first_name }}!!!üè¥‚Äç‚ò†Ô∏è\n\n–í–∏–∂—É, –≥–ª–∞–∑–∞ –≥–æ–ª–æ–¥–Ω—ã–µ, –∫–∞–∫ —É —á–∞–π–∫–∏ –Ω–∞–¥ —Ç—Ä—é–º–æ–º!\n–Ø ‚Äî –î—è–¥—é—à–∫–∞ –ö–æ–∫, —Å—Ç–∞—Ä—ã–π –º–æ—Ä—Å–∫–æ–π –ø–µ—Å, –∏ –∫–∞–∂–¥–∞—è –º–æ—è –ª–æ–∂–∫–∞ ‚Äî –∫–∞–∫ —É–¥–∞—Ä —Å–∞–±–ª–∏ –ø–æ —Å–∫—É–∫–µ! –ö–∏–¥–∞–π –º–Ω–µ —Å–≤–æ–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã ‚Äî –∞–∫—É–ª—å–∏ –ø–ª–∞–≤–Ω–∏–∫–∏ ü¶à, –¥—Ä–∞–∫–æ–Ω—å–∏ —è–π—Ü–∞ –∏–ª–∏ –¥–∞–∂–µ —Ä–∂–∞–≤—ã–µ –≥–≤–æ–∑–¥–∏ ‚Äî —Å–≤–∞—Ä—é —Ç–∞–∫, —á—Ç–æ —Å–∞–º –ù–µ–ø—Ç—É–Ω –∑–∞—Ö–æ—á–µ—Ç –¥–æ–±–∞–≤–∫–∏!\n\n–ê—Ä—Ä—Ä, –Ω–µ —Ç–µ—Ä–ø–∏—Ç—Å—è? \n–¢–æ–≥–¥–∞ –≤ –±–æ–π: –Ω–∞–∑–æ–≤–∏, —á—Ç–æ —É —Ç–µ–±—è –≤ —Ç—Ä—é–º–µ, –∞ —è –≤—ã–ª–æ–∂—É —Ä–µ—Ü–µ–ø—Ç üìú ‚Äî –∫–æ—Ä–æ—Ç–∫–æ, –∑–ª–æ–±–Ω–æ, –±–µ–∑ —Å—É—Ö–æ–ø—É—Ç–Ω—ã—Ö –∑–∞–º–æ—Ä–æ—á–µ–∫! –ö–ª—è–Ω—É—Å—å –∑—É–±–æ–º –∏—Ö—Ç–∏–∞–Ω–¥—Ä–∞ (–≤–∏–¥–∏—à—å, —Å –∫–æ—Ä–∞–±–ª—ë–º-–ø—Ä–∏–∑—Ä–∞–∫–æ–º –≤–Ω—É—Ç—Ä–∏?), –Ω–∞–∫–æ—Ä–º–ª—é –¥–∞–∂–µ –º–µ—Ä—Ç–≤–µ—Ü–∞!\n\n–ê –µ—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–Ω–µ—à—å ‚Äî —Ö–≤–∞—Ç–∞–π —Ä–æ–º ü•É –∏–∑ –º–æ–µ–π —Å—Ç–∞—Ä–æ–π –±–æ—á–∫–∏ –∏ —Å–ª—É—à–∞–π, –∫–∞–∫ —Å–æ–ª—å –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ –∑–æ–ª–æ—Ç–æ‚Ä¶ –•–∞-—Ö–∞-—Ö–∞—Ä—Ä! \n\n–î–∞–≤–∞–π, —é–Ω–≥–∞, —à—Ç–æ—Ä–º –Ω–µ –∂–¥—ë—Ç ‚Äî —Ç–≤–æ–π —Ö–æ–¥!\n–î—è–¥—é—à–∫–∞ –ö–æ–∫ —Ö—Ä–∏–ø–ª–æ —Å–º–µ—ë—Ç—Å—è, —Å—Ç—É—á–∞ –∫–æ–≤—à–æ–º –ø–æ –∫–æ—Ç–ª—É.\n\n","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é","additionalFields":{"callback_data":"searchType_name"}},{"text":"–ü–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º","additionalFields":{"callback_data":"searchType_ingredients"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2432,-272],"id":"aea6d4f7-fb9b-4f33-b46a-1fd1feb58071","name":"Send MSG on start2","webhookId":"32535109-b9ba-4923-9506-ff519ff4e0a3","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"content":"# &nbsp;&nbsp;&nbsp;&nbsp; –≠—Ç–∞–ø 1. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ","height":400,"width":2320},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[640,-352],"id":"e18b3d61-9b53-43e0-9596-0955cd27e18a","name":"Sticky Note4"},{"parameters":{"content":"# &nbsp;&nbsp;&nbsp;&nbsp; –≠—Ç–∞–ø 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –±–ª—é–¥–∞ –ø—Ä–∏  –ø–æ–∏—Å–∫–µ –ø–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º","height":556,"width":2320},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[640,560],"id":"3959b899-558d-4fc3-9363-3bf31dad848d","name":"Sticky Note5","disabled":true},{"parameters":{"content":"# &nbsp;&nbsp;&nbsp;&nbsp; –≠—Ç–∞–ø 4. –í–≤–æ–¥ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –∏ –ø–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –ø–æ –Ω–∏–º","height":788,"width":3152},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[640,1168],"id":"8c8fc1d4-355b-46f1-9c86-62954a5b5e68","name":"Sticky Note6","disabled":true},{"parameters":{"content":"# &nbsp;&nbsp;&nbsp;&nbsp; –≠—Ç–∞–ø 5. –í—ã–≤–æ–¥ —Ä–µ—Ü–µ–ø—Ç–∞","height":956,"width":2864},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[640,2016],"id":"392bccca-8281-46d3-9455-36bc00e3591f","name":"Sticky Note7","disabled":true},{"parameters":{"chatId":"={{ $json.message.chat.id }}","text":"=–ü—Ä–∏–≤–µ—Ç, {{ $json.message.from.first_name }}! üëä  \n–Ø —Ç—É—Ç —à–µ—Ñ-–ø–æ–≤–∞—Ä, –Ω–µ –±–∞–±—É—à–∫–∞ –Ω–∞ –∫—É—Ö–Ω–µ. **–†–∞–±–æ—Ç–∞—é –±–µ–∑ —Å–æ–ø–ª–µ–π** ‚Äî –¥–∞—é —Ä–µ—Ü–µ–ø—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç.  \n\n**–°–ª—É—à–∞–π —Å—é–¥–∞:**  \n1Ô∏è‚É£ **–í—ã–±–µ—Ä–∏ —Ç–∏–ø –±–ª—é–¥–∞** (–∂–∞—Ä—å, –ø–∞—Ä—å, –∑–∞–ø–µ–∫–∞–π ‚Äî –Ω–µ –≤–∞–∂–Ω–æ).  \n2Ô∏è‚É£ **–ö–∏–Ω—å –æ–¥–∏–Ω –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç** (–±–æ–ª—å—à–µ –Ω–µ –ø–æ—Ç—è–Ω—É ‚Äî –Ω–∞—Ä–æ–¥ –ª–æ–º–∏—Ç—Å—è).  \n3Ô∏è‚É£ **–ü–æ–ª—É—á–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é** ‚Äî —á–µ—Ç–∫–æ, –ø–æ —à–∞–≥–∞–º, –±–µ–∑ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏.  \n\n**–ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ—Å—Ç—ã–µ:** –Ω–µ —Ä–∞–∑–º–∞–∑—ã–≤–∞–π, –Ω–µ —É–º–Ω–∏—á–∞–π, **–Ω–∞–∑—ã–≤–∞–π —Å—Ä–∞–∑—É —Å—É—Ç—å**. –Ø –Ω–µ ChatGPT, —á—Ç–æ–±—ã —Ç—Ä–µ–ø–∞—Ç—å—Å—è ‚Äî **—Ç–æ–ª—å–∫–æ –¥–µ–ª–æ**.  \n\n*–î–∞–≤–∞–π –±—ã—Å—Ç—Ä–µ–µ, {{ $json.message.from.first_name }}. –ò–ª–∏ —Ç—ã –∫–æ—Ç–ª–µ—Ç—ã –∂—Ä–∞—Ç—å –ø—Ä–∏—à–µ–ª, –∏–ª–∏ –±–æ–ª—Ç–∞—Ç—å?*  \n\nüëá **–ö–∞—Ç–µ–≥–æ—Ä–∏—è ‚Äî —Ç–≤–æ–π —Ö–æ–¥.**  ","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"–°—É–ø—ã","additionalFields":{"callback_data":"cat_–°—É–ø—ã"}},{"text":"–ì–∞—Ä–Ω–∏—Ä—ã","additionalFields":{"callback_data":"cat_–ì–∞—Ä–Ω–∏—Ä—ã"}},{"text":"2-–µ –±–ª—é–¥–∞","additionalFields":{"callback_data":"cat_2-–µ –±–ª—é–¥–∞"}}]}},{"row":{"buttons":[{"text":"–°–∞–ª–∞—Ç—ã","additionalFields":{"callback_data":"cat_–°–∞–ª–∞—Ç—ã"}},{"text":"–°–æ—É—Å—ã","additionalFields":{"callback_data":"cat_–°–æ—É—Å—ã"}},{"text":"–ó–∞–∫—É—Å–∫–∏","additionalFields":{"callback_data":"cat_–ó–∞–∫—É—Å–∫–∏"}}]}},{"row":{"buttons":[{"text":"–ó–∞–≤—Ç—Ä–∞–∫–∏","additionalFields":{"callback_data":"cat_–ó–∞–≤—Ç—Ä–∞–∫–∏"}},{"text":"–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã","additionalFields":{"callback_data":"cat_–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã"}},{"text":"–í—ã–ø–µ—á–∫–∞","additionalFields":{"callback_data":"cat_–í—ã–ø–µ—á–∫–∞"}}]}},{"row":{"buttons":[{"text":"–ú–æ–ª–æ—á–∫–∞","additionalFields":{"callback_data":"cat_–ú–æ–ª–æ—á–∫–∞"}},{"text":"–ù–∞–ø–∏—Ç–∫–∏","additionalFields":{"callback_data":"cat_–ù–∞–ø–∏—Ç–∫–∏"}},{"text":"–î–µ—Å–µ—Ä—Ç—ã","additionalFields":{"callback_data":"cat_–î–µ—Å–µ—Ä—Ç—ã"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2736,-240],"id":"8d2e513e-dcbb-4503-88cc-d1a9c17675b6","name":"Send MSG on start3","webhookId":"eb962379-f4cf-4a65-9d86-be5c404fc110","disabled":true},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[720,-272],"id":"012b4937-5ee9-4a2f-9463-b75fa3bea9b6","name":"1."},{"parameters":{"url":"={{ $json.url }}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1728,1712],"id":"3091c0d7-355e-495c-a304-41b420dfc047","name":"1000.menu Request1"},{"parameters":{"chatId":"={{ $json.message.chat.id }}","text":"=–ü—Ä–∏–≤–µ—Ç, {{ $json.message.from.first_name}}!\n–í—ã–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é!","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"–°—É–ø—ã","additionalFields":{"callback_data":"cat_–°—É–ø—ã"}},{"text":"–ì–∞—Ä–Ω–∏—Ä—ã","additionalFields":{"callback_data":"cat_–ì–∞—Ä–Ω–∏—Ä—ã"}},{"text":"2-–µ –±–ª—é–¥–∞","additionalFields":{"callback_data":"cat_2-–µ –±–ª—é–¥–∞"}}]}},{"row":{"buttons":[{"text":"–°–∞–ª–∞—Ç—ã","additionalFields":{"callback_data":"cat_–°–∞–ª–∞—Ç—ã"}},{"text":"–°–æ—É—Å—ã","additionalFields":{"callback_data":"cat_–°–æ—É—Å—ã"}},{"text":"–ó–∞–∫—É—Å–∫–∏","additionalFields":{"callback_data":"cat_–ó–∞–∫—É—Å–∫–∏"}}]}},{"row":{"buttons":[{"text":"–ó–∞–≤—Ç—Ä–∞–∫–∏","additionalFields":{"callback_data":"cat_–ó–∞–≤—Ç—Ä–∞–∫–∏"}},{"text":"–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã","additionalFields":{"callback_data":"cat_–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã"}},{"text":"–í—ã–ø–µ—á–∫–∞","additionalFields":{"callback_data":"cat_–í—ã–ø–µ—á–∫–∞"}}]}},{"row":{"buttons":[{"text":"–ú–æ–ª–æ—á–∫–∞","additionalFields":{"callback_data":"cat_–ú–æ–ª–æ—á–∫–∞"}},{"text":"–ù–∞–ø–∏—Ç–∫–∏","additionalFields":{"callback_data":"cat_–ù–∞–ø–∏—Ç–∫–∏"}},{"text":"–î–µ—Å–µ—Ä—Ç—ã","additionalFields":{"callback_data":"cat_–î–µ—Å–µ—Ä—Ç—ã"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2688,-352],"id":"1bbc30ee-ad27-404e-8a48-7718ae10b83a","name":"Send MSG on start4","webhookId":"e4e1abf5-d826-4831-8bf8-e414633486e6","disabled":true},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.randomRecipes.length }}","rightValue":1,"operator":{"type":"number","operation":"equals"},"id":"e87c4a73-5c0c-49c1-a559-b37c059a6197"}],"combinator":"and"},"renameOutput":true,"outputKey":"1"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"51c283b9-078b-4911-9ff0-fef5cc3d6c0e","leftValue":"={{ $json.randomRecipes.length }}","rightValue":2,"operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"2"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"b7970bee-f78e-4ce2-a97c-9e911360e48d","leftValue":"={{ $json.randomRecipes.length }}","rightValue":3,"operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"3"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"2e9a49d4-34c5-43c8-a2e2-517e98552d14","leftValue":"={{ $json.randomRecipes.length }}","rightValue":4,"operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"4"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"f6662ba2-c5ea-41e6-b3e3-5f7733da18e9","leftValue":"={{ $json.randomRecipes.length }}","rightValue":5,"operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"5"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"3dae4a79-e527-4f31-8a21-c3f1a066a65f","leftValue":"={{ $json.randomRecipes.length }}","rightValue":6,"operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"6"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"358c1ad3-4d75-42ed-8f66-032be65e61c9","leftValue":"={{ $json.randomRecipes.length }}","rightValue":7,"operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"7"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"f00f9bc5-e249-41c7-818e-7f79da474a25","leftValue":"={{ $json.randomRecipes.length }}","rightValue":8,"operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"8"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"74e09a46-8fb7-420e-858a-7a9892b9bc3c","leftValue":"={{ $json.randomRecipes.length }}","rightValue":9,"operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"9"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"78efc352-b19d-4701-a911-a89f35c68870","leftValue":"={{ $json.randomRecipes.length }}","rightValue":10,"operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"10"}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[3360,1376],"id":"dddf8aff-055e-4722-acb0-ea4110f7f0f9","name":"Switch"},{"parameters":{"chatId":"={{ $json.message.chat.id }}","text":"=–ó–¥–æ—Ä–æ–≤–æ, {{ $json.message.from.first_name }}! üëä\n\n–Ø —Ç–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –®–µ—Ñ, –º–∞—Ç—å –µ–≥–æ. üë®‚Äçüç≥ –†–∞–±–æ—Ç–∞–ª –≤ –ª—É—á—à–∏—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞—Ö, –∑–Ω–∞—é —Å–≤–æ—ë –¥–µ–ª–æ –æ—Ç –∏ –¥–æ. –ë–µ–∑ –ª–∏—à–Ω–µ–π –≤–æ–¥—ã –∏ –ø–æ–Ω—Ç–æ–≤ - —è –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –≤—ã–¥–∞–≤–∞—Ç—å —Ç–µ–±–µ —á–µ—Ä—Ç–æ–≤—Å–∫–∏ –∫—Ä—É—Ç—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã. üî™\n\n–†–∞–±–æ—Ç–∞–µ–º —Ç–∞–∫: —Ç—ã –Ω–∞–∑—ã–≤–∞–µ—à—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç - —è –≤—ã–¥–∞—é —Ç–æ—á–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç —Å –ø–æ—à–∞–≥–æ–≤–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π. –í—Å—ë –ø—Ä–æ—Å—Ç–æ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ. üí™ –í—Ä–µ–º–µ–Ω–∏ –Ω–∞ –±–æ–ª—Ç–æ–≤–Ω—é –Ω–µ—Ç - —É –º–µ–Ω—è –µ—â—ë –∫—É—á–∞ –Ω–∞—Ä–æ–¥—É –≤ –æ—á–µ—Ä–µ–¥–∏, –ø–æ—ç—Ç–æ–º—É –±–µ—Ä—ë–º –æ–¥–∏–Ω –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç –∏ –¥–µ–ª–∞–µ–º –∏–∑ –Ω–µ–≥–æ —à–µ–¥–µ–≤—Ä. üî•\n\n–î–∞–≤–∞–π —É–∂–µ –∫ –¥–µ–ª—É - –≤—ã–±–∏—Ä–∞–π —Å–ø–æ—Å–æ–± –ø–æ–∏—Å–∫–∞, –∏ –ø–æ–≥–Ω–∞–ª–∏. üç≥‚è±Ô∏è\n","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"–°—É–ø—ã","additionalFields":{"callback_data":"cat_–°—É–ø—ã"}},{"text":"–ì–∞—Ä–Ω–∏—Ä—ã","additionalFields":{"callback_data":"cat_–ì–∞—Ä–Ω–∏—Ä—ã"}},{"text":"2-–µ –±–ª—é–¥–∞","additionalFields":{"callback_data":"cat_2-–µ –±–ª—é–¥–∞"}}]}},{"row":{"buttons":[{"text":"–°–∞–ª–∞—Ç—ã","additionalFields":{"callback_data":"cat_–°–∞–ª–∞—Ç—ã"}},{"text":"–°–æ—É—Å—ã","additionalFields":{"callback_data":"cat_–°–æ—É—Å—ã"}},{"text":"–ó–∞–∫—É—Å–∫–∏","additionalFields":{"callback_data":"cat_–ó–∞–∫—É—Å–∫–∏"}}]}},{"row":{"buttons":[{"text":"–ó–∞–≤—Ç—Ä–∞–∫–∏","additionalFields":{"callback_data":"cat_–ó–∞–≤—Ç—Ä–∞–∫–∏"}},{"text":"–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã","additionalFields":{"callback_data":"cat_–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã"}},{"text":"–í—ã–ø–µ—á–∫–∞","additionalFields":{"callback_data":"cat_–í—ã–ø–µ—á–∫–∞"}}]}},{"row":{"buttons":[{"text":"–ú–æ–ª–æ—á–∫–∞","additionalFields":{"callback_data":"cat_–ú–æ–ª–æ—á–∫–∞"}},{"text":"–ù–∞–ø–∏—Ç–∫–∏","additionalFields":{"callback_data":"cat_–ù–∞–ø–∏—Ç–∫–∏"}},{"text":"–î–µ—Å–µ—Ä—Ç—ã","additionalFields":{"callback_data":"cat_–î–µ—Å–µ—Ä—Ç—ã"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2784,-352],"id":"26fb693f-8d02-4ba2-8dbd-6abc04ecaebe","name":"Send MSG on start5","webhookId":"8071d78a-031b-4b4f-b768-7aafb87baa67","disabled":true},{"parameters":{"chatId":"={{ $json.callback_query.message.chat.id }}","text":"=–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, {{ $json.callback_query.from.first_name }}!\n–ê —Ç–µ–ø–µ—Ä—å —É–∫–∞–∂–∏ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –±–ª—é–¥–∞!","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2368,192],"id":"fe05df1b-4490-4a57-9e6f-240e3d440ecc","name":"Send MSG On Name","webhookId":"43a1eb5a-0787-44f4-ba04-ec7e34b90bf9","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"content":"# &nbsp;&nbsp;&nbsp;&nbsp; –≠—Ç–∞–ø 2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∏–¥–∞ –ø–æ–∏—Å–∫–∞","height":420,"width":2320},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[640,80],"id":"3b98f141-3958-4937-b1c0-99810787e7a5","name":"Sticky Note8"},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3,"position":[1136,1248],"id":"162bffec-c711-49b9-b53f-c48c1bc66fa7","name":"Merge"},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"b60ec8ef-c3e8-4d8a-9d00-cbc02ddbbd53","leftValue":"={{ ($json.callback_query.data).split(\"_\")[1] }}","rightValue":"ingredients","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"ingredients"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ ($json.callback_query.data).split(\"_\")[1] }}","rightValue":"name","operator":{"type":"string","operation":"equals"},"id":"b8efe314-8472-40b9-b10b-cdf024190905"}],"combinator":"and"},"renameOutput":true,"outputKey":"name"}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[1008,176],"id":"c9be484c-9a89-4444-88ca-cbe3ad2e31ea","name":"Switch Search Type"},{"parameters":{"authentication":"serviceAccount","operation":"upsert","projectId":"mysuperchief","collection":"={{ $json.collection }}","updateKey":"key","columns":"searchType"},"type":"n8n-nodes-base.googleFirebaseCloudFirestore","typeVersion":1.1,"position":[2736,144],"id":"65f774f7-2f46-4c8a-9a2d-d5ecdb0d10fb","name":"Firestore Set SearchType","disabled":true},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"b60ec8ef-c3e8-4d8a-9d00-cbc02ddbbd53","leftValue":"={{ $json.search_type }}","rightValue":"ingredients","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"ingredients"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.search_type }}","rightValue":"name","operator":{"type":"string","operation":"equals"},"id":"b8efe314-8472-40b9-b10b-cdf024190905"}],"combinator":"and"},"renameOutput":true,"outputKey":"name"}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[1328,1248],"id":"1550b729-0551-4bc4-83e7-8de99eed58db","name":"Switch  On SearchType"},{"parameters":{"chatId":"={{ $json.callback_query.message.chat.id }}","text":"=–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, {{ $json.callback_query.from.first_name }}!\n–ê —Ç–µ–ø–µ—Ä—å –≤—ã–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –±–ª—é–¥–∞!","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"–°—É–ø—ã","additionalFields":{"callback_data":"cat_–°—É–ø—ã"}},{"text":"–ì–∞—Ä–Ω–∏—Ä—ã","additionalFields":{"callback_data":"cat_–ì–∞—Ä–Ω–∏—Ä—ã"}},{"text":"2-–µ –±–ª—é–¥–∞","additionalFields":{"callback_data":"cat_2-–µ –±–ª—é–¥–∞"}}]}},{"row":{"buttons":[{"text":"–°–∞–ª–∞—Ç—ã","additionalFields":{"callback_data":"cat_–°–∞–ª–∞—Ç—ã"}},{"text":"–°–æ—É—Å—ã","additionalFields":{"callback_data":"cat_–°–æ—É—Å—ã"}},{"text":"–ó–∞–∫—É—Å–∫–∏","additionalFields":{"callback_data":"cat_–ó–∞–∫—É—Å–∫–∏"}}]}},{"row":{"buttons":[{"text":"–ó–∞–≤—Ç—Ä–∞–∫–∏","additionalFields":{"callback_data":"cat_–ó–∞–≤—Ç—Ä–∞–∫–∏"}},{"text":"–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã","additionalFields":{"callback_data":"cat_–ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã"}},{"text":"–í—ã–ø–µ—á–∫–∞","additionalFields":{"callback_data":"cat_–í—ã–ø–µ—á–∫–∞"}}]}},{"row":{"buttons":[{"text":"–ú–æ–ª–æ—á–∫–∞","additionalFields":{"callback_data":"cat_–ú–æ–ª–æ—á–∫–∞"}},{"text":"–ù–∞–ø–∏—Ç–∫–∏","additionalFields":{"callback_data":"cat_–ù–∞–ø–∏—Ç–∫–∏"}},{"text":"–î–µ—Å–µ—Ä—Ç—ã","additionalFields":{"callback_data":"cat_–î–µ—Å–µ—Ä—Ç—ã"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2512,160],"id":"30171df7-9159-4d41-af34-7b663b69782a","name":"Send MSG On Ingredients","webhookId":"9b1e10e7-6727-460e-bf69-1efa9b100831","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"jsCode":"let str = $json.message\n  ? $json.message.text\n  : '';\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤\nconst sanitizeParam = (value, pattern) => {\n  const regex = new RegExp(pattern);\n  return regex.test(value) ? value : '';\n};\n\n// –ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏\nconst validationRules = {\n  str: /^[–∞-—è–ê-–Ø—ë–Å0-9\\s-]{1,50}$/iu\n};\n\nconst safeParams = {};\nsafeParams.str = str\n  ? encodeURIComponent(sanitizeParam(str, validationRules.str))\n  : '';\n\nlet categoryNumber = $json.categoryNumber\n  ? $json.categoryNumber\n  : '';\n\nlet ingredientNumber = $json.ingredientNumber\n  ? [...$json.ingredientNumber,'','','','','','','']\n  : ['','','','','','','']\n\nlet url = \n\"https://1000.menu/cooking/search?\"\n+      \"ms=1\"\n+\"&\"+  \"str=\"                   +  ( `${safeParams.str || ''}` )\n+\"&\"+  \"sostav_arr_add%5B%5D=\"  +  ( `${ingredientNumber[0]}` )\n+\"&\"+  \"sostav_arr_add%5B%5D=\"  +  ( `${ingredientNumber[1]}` )\n+\"&\"+  \"sostav_arr_add%5B%5D=\"  +  ( `${ingredientNumber[2]}` )\n+\"&\"+  \"sostav_arr_add%5B%5D=\"  +  ( `${ingredientNumber[3]}` )\n+\"&\"+  \"sostav_arr_add%5B%5D=\"  +  ( `${ingredientNumber[4]}` )\n+\"&\"+  \"sostav_arr_add%5B%5D=\"  +  ( `${ingredientNumber[5]}` )\n+\"&\"+  \"sostav_arr_add%5B%5D=\"  +  ( `${ingredientNumber[6]}` )\n+\"&\"+  \"es_tf=0\"\n+\"&\"+  \"es_tt=14\"\n+\"&\"+  \"es_cf=0\"\n+\"&\"+  \"es_ct=2000\"\n+\"&\"+  \"arr_catalog%5B47%5D=\"   +  ( `${categoryNumber}` )\n\n\nreturn {\"url\":url}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1536,1712],"id":"36577bd6-6fcc-435d-9db7-dd8556414cf0","name":"Generate URL"},{"parameters":{"assignments":{"assignments":[{"id":"8aceed01-1fd6-4777-93b8-eaf26e8a5c67","name":"chat_id","value":"={{ $json.chat_id || $json.message.chat.id }}","type":"string"},{"id":"69e5b84d-976c-4751-b573-a9a4e9681f33","name":"user_name","value":"={{ $json.user_name || $json.message.from.first_name }}","type":"string"},{"id":"6da30742-6b9d-43da-81ec-64ca38fd8a76","name":"user_nicname","value":"={{ $json.user_nicname || $json.message.from.username }}","type":"string"},{"id":"9fbf29e3-7791-4368-b0ec-ae4ab3291593","name":"category_name","value":"={{ $json.category_name }}","type":"string"},{"id":"f6e14bf1-494a-4c08-8bab-809019302c19","name":"category_number","value":"={{ $json.category_number }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2384,912],"id":"6721be90-7e1a-4efd-8f6c-4feb596a3a36","name":"Make Firestore Fields","disabled":true},{"parameters":{"method":"POST","url":"http://185.77.231.110:8000/rest/v1/user_sessions","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"chat_id","value":"test_123"},{"name":"user_name","value":"Test User"},{"name":"user_nickname","value":"test_user"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2512,912],"id":"db1ec184-38df-4f52-a67a-879283b47edf","name":"Supa Set User Session","disabled":true},{"parameters":{"url":"=http://185.77.231.110:8000/rest/v1/user_sessions?chat_id=eq.{{ $json.message.from.id }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1200,-144],"id":"560759c1-3514-41c0-81c0-a27d49514eb4","name":"Supa Get User","alwaysOutputData":true,"retryOnFail":false},{"parameters":{"url":"=http://185.77.231.110:8000/rest/v1/user_search_types?chat_id=eq.{{ $json.chat_id }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1200,336],"id":"bd0181e6-9faa-44ab-9dbd-b11c508788ac","name":"Supa Get SearchType","alwaysOutputData":true,"retryOnFail":false},{"parameters":{"url":"=http://185.77.231.110:8000/rest/v1/user_categories?chat_id=eq.{{$json.chat_id || 598255235 }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"options":{}},"id":"47e68b69-1812-4870-9d85-cd3e64832135","name":"Supa Get Category","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1200,800],"alwaysOutputData":true},{"parameters":{"method":"POST","url":"http://185.77.231.110:8000/rest/v1/user_categories","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"chat_id","value":"={{ $('Return Category Chat ID User Info').all()[0].json.chat_id }}"},{"name":"category_name","value":"={{ $('Return Category Chat ID User Info').all()[0].json.category_name }}"},{"name":"category_number","value":"={{ $('Return Category Chat ID User Info').all()[0].json.category_number }}"},{"name":"user_nickname","value":"={{ $('Return Category Chat ID User Info').item.json.user_nickname }}"}]},"options":{}},"id":"bf3d2042-34a6-443b-9355-f1d9ba070fc5","name":"Supa Post Category","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1552,784]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"65f00087-0fed-4698-b4c5-db46c38986b7","leftValue":"={{ $json }}","rightValue":"","operator":{"type":"object","operation":"empty","singleValue":true}}],"combinator":"and"},"options":{}},"id":"abec7d4a-eaaa-429a-b95f-c28ff625bc75","name":"If Category Not Exists","type":"n8n-nodes-base.if","typeVersion":2.2,"position":[1376,800],"connections":{"true":[[{"node":"a7b8c9d0-e1f2-4a3b-b4c5-d6e7f8a9b0c1","type":"main","index":0}]],"false":[[{"node":"b8c9d0e1-f2a3-4b4c-a5d6-e7f8a9b0c1d2","type":"main","index":0}]]}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"91b8c209-ad56-4eee-90ad-07de16180ee7","leftValue":"={{ $json }}","rightValue":"","operator":{"type":"object","operation":"empty","singleValue":true}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[1376,336],"id":"f08fdd23-0719-4ec7-8795-471eebb6eeba","name":"If SearchType Not Exists"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"91b8c209-ad56-4eee-90ad-07de16180ee7","leftValue":"={{ $json }}","rightValue":"","operator":{"type":"object","operation":"empty","singleValue":true}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[1376,-144],"id":"a57cfe61-038a-475e-9926-26e837eb5d7b","name":"If Useer Not Exists"},{"parameters":{"method":"POST","url":"http://185.77.231.110:8000/rest/v1/user_search_types","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"chat_id","value":"={{ $('Make SupaBase Fields').all()[0].json.chat_id }}"},{"name":"user_nickname","value":"={{ $('Make SupaBase Fields').all()[0].json.user_nickname }}"},{"name":"search_type","value":"={{ $('Make SupaBase Fields').all()[0].json.search_type }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1552,320],"id":"5d528318-dfab-47a9-8d14-eb01e131a548","name":"Supa Post SearchType"},{"parameters":{"method":"POST","url":"http://185.77.231.110:8000/rest/v1/user_sessions","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"chat_id","value":"={{ $('Switch Command').all()[0].json.message.from.id }}"},{"name":"user_name","value":"={{ $('Switch Command').all()[0].json.message.from.first_name }}"},{"name":"user_nickname","value":"={{ $('Switch Command').all()[0].json.message.from.username }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1552,-160],"id":"b7ed17fe-9505-464b-ac89-ce800dc78185","name":"Supa Post User"},{"parameters":{"method":"PATCH","url":"=http://185.77.231.110:8000/rest/v1/user_sessions?chat_id=eq.{{ $json.chat_id }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"user_name","value":"={{ $json.user_name }}"},{"name":"user_nickname","value":"={{ $json.user_nickname }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1728,-128],"id":"7055442d-0c23-4eb4-8f60-9b83bebd21e7","name":"Supa Update User"},{"parameters":{"method":"PATCH","url":"=http://185.77.231.110:8000/rest/v1/user_search_types?chat_id=eq.{{ $('Supa Get SearchType').all()[0].json.chat_id }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"search_type","value":"={{ $('Get MSG').all()[0].json.callback_query.data.split(\"_\")[1] }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1728,352],"id":"925d2e32-87da-4b48-abce-052bc253af8e","name":"Supa Update SearchType"},{"parameters":{"method":"PATCH","url":"=http://185.77.231.110:8000/rest/v1/user_categories?chat_id=eq.{{ $('Return Category Chat ID User Info').all()[0].json.chat_id }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"category_name","value":"={{ $('Return Category Chat ID User Info').all()[0].json.category_name }}"},{"name":"category_number","value":"={{ $('Return Category Chat ID User Info').all()[0].json.category_number }}"}]},"options":{}},"id":"f5541d6e-607c-4057-a772-957665972cc3","name":"Supa Update Category","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1728,816]},{"parameters":{"assignments":{"assignments":[{"id":"8aceed01-1fd6-4777-93b8-eaf26e8a5c67","name":"chat_id","value":"={{ $json.callback_query.message.chat.id }}","type":"string"},{"id":"69e5b84d-976c-4751-b573-a9a4e9681f33","name":"search_type","value":"={{ $json.callback_query.data.split('_')[1] }}","type":"string"},{"id":"c4aff103-2624-423e-a64f-3ac80ec33224","name":"user_nickname","value":"={{ $json.callback_query.message.chat.username }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1008,336],"id":"9aeffd12-ed8b-4b94-baaf-014d812046e6","name":"Make SupaBase Fields"},{"parameters":{"url":"=http://185.77.231.110:8000/rest/v1/user_search_types?chat_id=eq.{{ $json.message.from.id }}&select=search_type","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[928,1376],"id":"c38959e7-e875-4862-91d6-1b71ab453c67","name":"Supa Get SearchType1","alwaysOutputData":true,"retryOnFail":false},{"parameters":{"chatId":"={{ $('Get MSG').all()[0].json.message.chat.id }}","text":"=–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"={{ $json.randomRecipes[0][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[0][1] }}"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[3600,1216],"id":"65694731-6e2d-49ba-9c7f-a2d48f27c9a1","name":"Telegram1","webhookId":"aea6ae17-f9e1-44c6-952f-6684b6ac5db9","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"chatId":"={{ $('Get MSG').all()[0].json.message.chat.id }}","text":"=–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"={{ $json.randomRecipes[0][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[0][1] }}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[1] \n  ? $json.randomRecipes[1][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[1] \n  ? (\"rec_\" + $json.randomRecipes[1][1]) \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[2] \n  ? $json.randomRecipes[2][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[2] \n  ? \"rec_\" + $json.randomRecipes[2][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[3] \n  ? $json.randomRecipes[3][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[3] \n  ? \"rec_\" + $json.randomRecipes[3][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[4] \n  ? $json.randomRecipes[4][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[4] \n  ? \"rec_\" + $json.randomRecipes[4][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[5] \n  ? $json.randomRecipes[5][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[5] \n  ? \"rec_\" + $json.randomRecipes[5][1] \n  : ' ' \n}}"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[3600,1536],"id":"a8f4f549-9c59-4ea5-a79d-4d894fc0cca6","name":"Telegram6","webhookId":"8d82352a-1823-443d-92cc-a3295fa707d9","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"chatId":"={{ $('Get MSG').all()[0].json.message.chat.id }}","text":"=–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"={{ $json.randomRecipes[0][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[0][1] }}"}}]}},{"row":{"buttons":[{"text":"={{ $json.randomRecipes[1][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[1][1] }}"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[3600,1280],"id":"34fbb53e-7bd5-4e39-a4b9-b032ebb663ef","name":"Telegram2","webhookId":"96d4ee3d-5d31-428f-bcc4-998815cabcbd","credentials":{"telegramApi":{"id":"hnGinHPNsrJzL0wn","name":"Perplexity_For_Vera"}}},{"parameters":{"chatId":"={{ $('Get MSG').all()[0].json.message.chat.id }}","text":"=–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"={{ $json.randomRecipes[0][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[0][1] }}"}}]}},{"row":{"buttons":[{"text":"={{ $json.randomRecipes[1][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[1][1] }}"}}]}},{"row":{"buttons":[{"text":"={{ $json.randomRecipes[2][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[2][1] }}"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[3600,1344],"id":"05418dcc-201f-4c96-8b59-34961ef8af77","name":"Telegram3","webhookId":"bcb0d2b1-d47e-4935-851e-be31e1922d25","credentials":{"telegramApi":{"id":"hnGinHPNsrJzL0wn","name":"Perplexity_For_Vera"}}},{"parameters":{"chatId":"={{ $('Get MSG').all()[0].json.message.chat.id }}","text":"=–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"={{ $json.randomRecipes[0][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[0][1] }}"}}]}},{"row":{"buttons":[{"text":"={{ $json.randomRecipes[1][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[1][1] }}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[2] \n  ? $json.randomRecipes[2][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[2] \n  ? \"rec_\" + $json.randomRecipes[2][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[3] \n  ? $json.randomRecipes[3][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[3] \n  ? \"rec_\" + $json.randomRecipes[3][1] \n  : ' ' \n}}"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[3600,1408],"id":"8ad2c7ea-2a88-452f-aff3-c48f1c12db8f","name":"Telegram4","webhookId":"231dfd1c-631f-499b-bfd3-02563f9db4d1","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"chatId":"={{ $('Get MSG').all()[0].json.message.chat.id }}","text":"=–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"={{ $json.randomRecipes[0][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[0][1] }}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[1] \n  ? $json.randomRecipes[1][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[1] \n  ? (\"rec_\" + $json.randomRecipes[1][1]) \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[2] \n  ? $json.randomRecipes[2][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[2] \n  ? \"rec_\" + $json.randomRecipes[2][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[3] \n  ? $json.randomRecipes[3][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[3] \n  ? \"rec_\" + $json.randomRecipes[3][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[4] \n  ? $json.randomRecipes[4][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[4] \n  ? \"rec_\" + $json.randomRecipes[4][1] \n  : ' ' \n}}"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[3600,1472],"id":"029517d8-7c8d-4aea-8712-383cef70717e","name":"Telegram5","webhookId":"15e9b4f2-97e0-4a69-8875-d3f89325a868","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"chatId":"={{ $('Get MSG').all()[0].json.message.chat.id }}","text":"=–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"={{ $json.randomRecipes[0][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[0][1] }}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[1] \n  ? $json.randomRecipes[1][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[1] \n  ? (\"rec_\" + $json.randomRecipes[1][1]) \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[2] \n  ? $json.randomRecipes[2][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[2] \n  ? \"rec_\" + $json.randomRecipes[2][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[3] \n  ? $json.randomRecipes[3][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[3] \n  ? \"rec_\" + $json.randomRecipes[3][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[4] \n  ? $json.randomRecipes[4][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[4] \n  ? \"rec_\" + $json.randomRecipes[4][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[5] \n  ? $json.randomRecipes[5][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[5] \n  ? \"rec_\" + $json.randomRecipes[5][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[6] \n  ? $json.randomRecipes[6][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[6] \n  ? \"rec_\" + $json.randomRecipes[6][1] \n  : ' ' \n}}"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[3600,1600],"id":"38480540-c4ef-45fb-8e92-be9d62d742fe","name":"Telegram7","webhookId":"b7e19096-f265-4e5d-bd70-d22f6a74d668","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"chatId":"={{ $('Get MSG').all()[0].json.message.chat.id }}","text":"=–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"={{ $json.randomRecipes[0][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[0][1] }}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[1] \n  ? $json.randomRecipes[1][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[1] \n  ? (\"rec_\" + $json.randomRecipes[1][1]) \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[2] \n  ? $json.randomRecipes[2][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[2] \n  ? \"rec_\" + $json.randomRecipes[2][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[3] \n  ? $json.randomRecipes[3][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[3] \n  ? \"rec_\" + $json.randomRecipes[3][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[4] \n  ? $json.randomRecipes[4][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[4] \n  ? \"rec_\" + $json.randomRecipes[4][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[5] \n  ? $json.randomRecipes[5][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[5] \n  ? \"rec_\" + $json.randomRecipes[5][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[6] \n  ? $json.randomRecipes[6][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[6] \n  ? \"rec_\" + $json.randomRecipes[6][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[7] \n  ? $json.randomRecipes[7][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[7] \n  ? \"rec_\" + $json.randomRecipes[7][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[8] \n  ? $json.randomRecipes[8][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[8] \n  ? \"rec_\" + $json.randomRecipes[8][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[9] \n  ? $json.randomRecipes[9][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[9] \n  ? \"rec_\" + $json.randomRecipes[9][1] \n  : ' ' \n}}"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[3600,1792],"id":"5c22cc13-be1b-4c88-8003-4d0dd28adbb4","name":"Telegram10","webhookId":"4445b614-ed67-4466-a379-6c6220335141","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"chatId":"={{ $('Get MSG').all()[0].json.message.chat.id }}","text":"=–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"={{ $json.randomRecipes[0][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[0][1] }}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[1] \n  ? $json.randomRecipes[1][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[1] \n  ? (\"rec_\" + $json.randomRecipes[1][1]) \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[2] \n  ? $json.randomRecipes[2][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[2] \n  ? \"rec_\" + $json.randomRecipes[2][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[3] \n  ? $json.randomRecipes[3][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[3] \n  ? \"rec_\" + $json.randomRecipes[3][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[4] \n  ? $json.randomRecipes[4][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[4] \n  ? \"rec_\" + $json.randomRecipes[4][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[5] \n  ? $json.randomRecipes[5][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[5] \n  ? \"rec_\" + $json.randomRecipes[5][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[6] \n  ? $json.randomRecipes[6][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[6] \n  ? \"rec_\" + $json.randomRecipes[6][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[7] \n  ? $json.randomRecipes[7][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[7] \n  ? \"rec_\" + $json.randomRecipes[7][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[8] \n  ? $json.randomRecipes[8][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[8] \n  ? \"rec_\" + $json.randomRecipes[8][1] \n  : ' ' \n}}"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[3600,1728],"id":"0b54ab85-ca21-4780-b382-561733ce4259","name":"Telegram9","webhookId":"3dc80d17-942f-41b8-9053-e2f0cb5fb899","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"chatId":"={{ $('Get MSG').all()[0].json.message.chat.id }}","text":"=–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö","replyMarkup":"inlineKeyboard","inlineKeyboard":{"rows":[{"row":{"buttons":[{"text":"={{ $json.randomRecipes[0][0] }}","additionalFields":{"callback_data":"=rec_{{ $json.randomRecipes[0][1] }}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[1] \n  ? $json.randomRecipes[1][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[1] \n  ? (\"rec_\" + $json.randomRecipes[1][1]) \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[2] \n  ? $json.randomRecipes[2][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[2] \n  ? \"rec_\" + $json.randomRecipes[2][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[3] \n  ? $json.randomRecipes[3][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[3] \n  ? \"rec_\" + $json.randomRecipes[3][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[4] \n  ? $json.randomRecipes[4][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[4] \n  ? \"rec_\" + $json.randomRecipes[4][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[5] \n  ? $json.randomRecipes[5][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[5] \n  ? \"rec_\" + $json.randomRecipes[5][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[6] \n  ? $json.randomRecipes[6][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[6] \n  ? \"rec_\" + $json.randomRecipes[6][1] \n  : ' ' \n}}"}}]}},{"row":{"buttons":[{"text":"={{ \n$json.randomRecipes[7] \n  ? $json.randomRecipes[7][0] \n  : ' ' \n}}","additionalFields":{"callback_data":"={{ \n$json.randomRecipes[7] \n  ? \"rec_\" + $json.randomRecipes[7][1] \n  : ' ' \n}}"}}]}}]},"additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[3600,1664],"id":"88f55813-8d77-403e-baf3-b1a85b3a54bb","name":"Telegram8","webhookId":"3590173c-b09c-4f49-b42c-313b30f82983","credentials":{"telegramApi":{"id":"nYRWJGkPQEnunnYC","name":"GetRecipeBot"}}},{"parameters":{"jsCode":"// –ü–æ–ª—É—á–∞–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–≤ n8n —ç—Ç–æ –æ–±—ã—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ –∫–∞–∫ $input.first().json)\nconst data = $input.first().json;\n\n// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç –¥–ª—è —Å–ª–æ–≤–∞—Ä—è\nconst dictionary = {};\n\n// –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –º–∞—Å—Å–∏–≤—É urls\ndata.urls.forEach(url => {\n  // –†–∞–∑–¥–µ–ª—è–µ–º URL –ø–æ '/', –±–µ—Ä–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é —á–∞—Å—Ç—å\n  const parts = url.split('/');\n  const lastPart = parts[parts.length - 1];\n  \n  // –ë–µ—Ä–µ–º —á–∞—Å—Ç—å –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º '-'\n  const key = lastPart.split('-')[0];\n  \n  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ key —á–∏—Å–ª–æ–º (—á—Ç–æ–±—ã –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ, –∫–∞–∫ \"/vacancies\")\n  if (!isNaN(key) && key !== '') {\n    dictionary[key] = url;\n  }\n});\n\n// –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–∞–∫ –æ–±—ä–µ–∫—Ç (–≤ n8n Code node –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏)\nreturn [{ json: dictionary }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2128,1808],"id":"44de52d5-4bab-476c-8cfc-d9124ceae67c","name":"ShortID_FullURL"},{"parameters":{"url":"=http://185.77.231.110:8000/rest/v1/user_recipes?chat_id=eq.{{$json.chat_id || 598255235 }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"options":{}},"id":"14b4488d-53f7-464d-aa61-a282c0626efd","name":"Supa Get Recipes","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2320,1808],"alwaysOutputData":true},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"65f00087-0fed-4698-b4c5-db46c38986b7","leftValue":"={{ $json }}","rightValue":"","operator":{"type":"object","operation":"empty","singleValue":true}}],"combinator":"and"},"options":{}},"id":"a1bb70ea-e727-4948-b131-11dd6dee6738","name":"If Recipes Not Exists","type":"n8n-nodes-base.if","typeVersion":2.2,"position":[2512,1808],"connections":{"true":[[{"node":"a7b8c9d0-e1f2-4a3b-b4c5-d6e7f8a9b0c1","type":"main","index":0}]],"false":[[{"node":"b8c9d0e1-f2a3-4b4c-a5d6-e7f8a9b0c1d2","type":"main","index":0}]]}},{"parameters":{"method":"POST","url":"http://185.77.231.110:8000/rest/v1/user_recipes","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"chat_id\": {{ $('Get MSG').all()[0].json.message.chat.id }},\n  \"recipes_map\": {{ JSON.stringify($('ShortID_FullURL').all()[0].json) }}\n}","options":{}},"id":"02ea6976-c95e-48d7-91ee-e0caa3895262","name":"Supa Post Recipes","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2704,1792]},{"parameters":{"method":"PATCH","url":"=http://185.77.231.110:8000/rest/v1/user_recipes?chat_id=eq.{{ $('Get MSG').all()[0].json.message.chat.id }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"recipes_map\": {{ JSON.stringify($('ShortID_FullURL').all()[0].json) }}\n}","options":{}},"id":"720713cb-fce1-4b67-b2bb-446e022fa3d3","name":"Supa Update Recipes","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2928,1824]},{"parameters":{"url":"=http://185.77.231.110:8000/rest/v1/user_recipes?chat_id=eq.{{ $('Get MSG').all()[0].json.callback_query.message.chat.id }}&select=recipes_map","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"options":{}},"id":"05d3f99a-ded9-4191-8887-2271702d88c8","name":"Supa Get Recipes1","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[928,2528],"alwaysOutputData":true},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[1728,1456],"id":"a6b812a6-5b12-46e3-9e38-7c24dbad8fb5","name":"Merge2"},{"parameters":{"jsCode":"const incomingData = $('Get MSG').all()[0].json.message.text\n\nconst allIngredients = incomingData.split(',');\n\nconst splitingIngredients = {'allIngredients':JSON.stringify(allIngredients)\n  .replace(/[\"]/g, '')\n  .replace(/[\\n]/g, '')\n  .replace(/[\\[]/g, '')\n  .replace(/[\\]]/g, '')\n  .replace(/[\\b]/g, '\\\\b')\n  .replace(/[\\f]/g, '\\\\f')\n  .replace(/[\\r]/g, '\\\\r')\n  .replace(/[\\t]/g, '\\\\t')\n}\n\nreturn splitingIngredients;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1536,1392],"id":"cba69df1-6fea-4bc3-a024-8a65c4f89476","name":"Reformat Ingredients","alwaysOutputData":true},{"parameters":{"jsCode":"const text = `\nGet the name of ALL the products from the incoming array.\n\nFOLLOW ALL FURTHER INSTRUCTIONS WITHOUT ANY COMMENTS FROM YOU.\n\nCreate an empty array with the name real Ingredients for further filling and do not output it while it is empty.\n\nFollow the following instructions for EACH element in the incoming array.\n\nBeginning of instructions\nCompare the name of this product with the name of any real product as carefully as possible. The comparison should be performed only in Russian. For comparison, use Levenshtein's algorithm.\n\nIf the percentage of comparison of names is less than 80%, then add ONLY ONE line \"Does not exist\" to the array with the name \"realIngredients\" WITHOUT any of your considerations and comments as an element of this array.\n\nOtherwise, correct the name and add it to the array with the name realIngredients.\nJUST ONE line with the product name, WITHOUT any of your thoughts or comments as an element of this array.\n\nEnd of instructions\n\nOutput the filled array of \"realIngredients\" as JS-array, \nNOT STRING. \nWITHOUT ANY MARKDOWN\nONLY ARRAY\n\nExample of correct processing No. 1\nIncoming array: [Sausage]\nAfter the comparison: [Sausage]\nOutput: [Sausage]\n\nExample of correct processing No. 2\nIncoming array: [Rimnusch, Mvrtok]\nAfter comparison: [\"Does not exist\", \"Does not exist\"]\nOutput: [\"Does not exist\",\"Does not exist\"]\n\nExample of correct processing No. 3\nIncoming array: [Chickin, Kidniy Bean, Bief]\nAfter comparing: [Chicken, Beans, Beef]\nOutput: [Chicken, Beans, Beef]`\n\nreturn [{\n  json:{\n    instruction: (text\n                  .replace(/[\"]/g, '\\'')\n                  .replace(/[\\b]/g, '\\\\b')\n                  .replace(/[\\f]/g, '\\\\f')\n                  .replace(/[\\n]/g, '')\n                  .replace(/[\\r]/g, '\\\\r')\n                  .replace(/[\\t]/g, '\\\\t'))\n  }\n}]\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1536,1520],"id":"caeb3b42-6d9e-494d-be28-8b85c455de3d","name":"Make Instruction"},{"parameters":{"jsCode":"const text = `\n–¢–µ–±–µ –¥–∞–Ω —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤:\n\"\n–º—è—Å–æ, —Ä—ã–±–∞, –∫—Ä—É–ø–∞, –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã, –æ–≤–æ—â–∏, —Ñ—Ä—É–∫—Ç—ã, –∫—Ä–∞—Å–Ω–∞—è —Ä—ã–±–∞, –∫—Ä–∞–±—ã, –∫—Ä–µ–≤–µ—Ç–∫–∏, –∫—É—Ä–∏—Ü–∞, –ª—É–∫, –∫–∞—Ä—Ç–æ—à–∫–∞, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, –∫–∞–ø—É—Å—Ç–∞, –ø–æ–º–∏–¥–æ—Ä—ã, –ø–æ–º–∏–¥–æ—Ä, —Ç–æ–º–∞—Ç—ã, —Ç–æ–º–∞—Ç, –æ–≥—É—Ä—Ü—ã, –æ–≥—É—Ä–µ—Ü, –∫–≤–∞—Å, –∫–æ–º–ø–æ—Ç, –∫—Ä–∞—Ö–º–∞–ª, –±—É–ª—å–æ–Ω, –≥–æ–≤—è–¥–∏–Ω–∞, –±–∞—Ä–∞–Ω–∏–Ω–∞, –≥—Ä–∏–±—ã, –º–æ–ª–æ–∫–æ, —Å–ª–∏–≤–∫–∏, –π–æ–≥—É—Ä—Ç, —Å–º–µ—Ç–∞–Ω–∞, —è–π—Ü–∞, —è–π—Ü–æ, —Å—ã—Ä, –∫–æ–ª–±–∞—Å–∞, –∫–∞–±–∞—á–∫–∏, –∫–∞–±–∞—á–æ–∫, —Å–≤–∏–Ω–∏–Ω–∞, –∫–ª—É–±–Ω–∏–∫–∞, –∫–ª—é–∫–≤–∞, —Ä–∏—Å, —Ö–ª–µ–±–æ–±—É–ª–æ—á–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è, —è–±–ª–æ–∫–∏, —è–±–ª–æ–∫–æ, —Ä–µ–ø–∞, —Ñ–∏–Ω–∏–∫–∏, —Ñ–∏–Ω–∏–∫, –º–æ—Ä–æ–∂–µ–Ω–æ–µ, —à–æ–∫–æ–ª–∞–¥, –≥—Ä—É—à–∏, –≥—Ä—É—à–∞, –≥—Ä–µ–π–ø—Ñ—Ä—É—Ç, —Ç—ã–∫–≤–∞, –≥—Ä–∞–Ω–∞—Ç, –∫—É–∫—É—Ä—É–∑–∞, –æ–≤—ë—Å, –æ–≤–µ—Å, –ø–µ—Ä–ª–æ–≤–∫–∞, –ø—à–µ–Ω–∏—á–Ω–∞—è –∫—Ä—É–ø–∞, —Å–ª–∏–≤—ã, —Å–ª–∏–≤–∞, –±–∞–Ω–∞–Ω—ã, –±–∞–Ω–∞–Ω, –ª–∏–º–æ–Ω—ã, –ª–∏–º–æ–Ω, –º–∞–ª–∏–Ω–∞, –∏–Ω–¥–µ–π–∫–∞, –≥—É—Å—å, —Å–≤–µ–∫–ª–∞, –±–æ–ª–≥–∞—Ä—Å–∫–∏–π –ø–µ—Ä–µ—Ü, –º–æ—Ä–∫–æ–≤—å, —Ö–æ–ª–æ–¥–µ—Ü, –º–æ–ª–ª—é—Å–∫–∏, –≥–æ—Ä–æ—Ö, –¥—ã–Ω—è, —Å–ø–∞—Ä–∂–∞, –±–∞–∫–ª–∞–∂–∞–Ω—ã, –±–∞–∫–ª–∞–∂–∞–Ω, –∏–Ω–∂–∏—Ä, –º—ë–¥, –±–æ–±–æ–≤—ã–µ, —Ñ–∞—Å–æ–ª—å, –≤–∏–Ω–æ–≥—Ä–∞–¥, –∫–∞–ª—å–º–∞—Ä—ã, —É—Ç–∫–∞, –º–∞–Ω–∫–∞, —Å–º–æ—Ä–æ–¥–∏–Ω–∞, —Å–µ–ª—ë–¥–∫–∞, —â—É–∫–∞, –ø–µ—á–µ–Ω—å, –º–∞–∫–∞—Ä–æ–Ω—ã, –æ—Å–µ—Ç—Ä–∏–Ω–∞, –∫—Ä–æ–ª–∏–∫, —Ç–≤–æ—Ä–æ–≥, —Å—É–¥–∞–∫, —à–∞–º–ø–∏–Ω—å–æ–Ω—ã, —Ç—Ä–µ—Å–∫–∞, –º–∏–Ω—Ç–∞–π, —Ç–µ–ª—è—Ç–∏–Ω–∞, –æ—Ä–µ—Ö–∏, –æ—Ä–µ—Ö, –æ–∫—É–Ω—å, –∞–Ω—á–æ—É—Å—ã, —Å–∫—É–º–±—Ä–∏—è, –±—Ä—ã–Ω–∑–∞, –≤–µ—à–µ–Ω–∫–∏, –ª–∏—Å–∏—á–∫–∏, –ø—à–µ–Ω–æ, —Å—É—Ö–æ—Ñ—Ä—É–∫—Ç—ã, –∫–∞—à—Ç–∞–Ω—ã, –∫–∞—à—Ç–∞–Ω, –º–∞–Ω–¥–∞—Ä–∏–Ω—ã, –º–∞–Ω–¥–∞—Ä–∏–Ω, –∫–∞—Ä–ø, –≥—Ä–µ—Ü–∫–∏–µ –æ—Ä–µ—Ö–∏, –≥—Ä–µ—Ü–∫–∏–π –æ—Ä–µ—Ö, —Ç–≤—ë—Ä–¥—ã–π —Å—ã—Ä, –∞–Ω–∞–Ω–∞—Å—ã, –∞–Ω–∞–Ω–∞—Å, —Å–æ–ª–µ–Ω—å—è, –∞—Ä—Ç–∏—à–æ–∫–∏, —Å–∞–ª–æ, –≤–∞—Ä–µ–Ω—å–µ, —á–µ—Å–Ω–æ–∫, —Ö—Ä–µ–Ω, –ø–ª–∞–≤–ª–µ–Ω–Ω—ã–π —Å—ã—Ä, —Ñ—É–Ω–¥—É–∫, –≥—Ä–µ—á–∫–∞, –ø–∏–≤–æ, –º–∏–Ω–¥–∞–ª—å, –∞—Ä–∞—Ö–∏—Å, —Ü–≤–µ—Ç–Ω–∞—è –∫–∞–ø—É—Å—Ç–∞, –∞–≤–æ–∫–∞–¥–æ, –∫–∞–º–±–∞–ª–∞, –∫–∞—Ä–∞—Å—å, –º–æ—Ä—Å–∫–æ–π —è–∑—ã–∫, –±–µ–ª—ã–µ –≥—Ä–∏–±—ã, –±–µ–ª—ã–π –≥—Ä–∏–±, —Ç—Ä—é—Ñ–µ–ª–∏, —Ç—Ä—é—Ñ–µ–ª—å, —à–∏–∏—Ç–∞–∫–µ, —Ä—ã–∂–∏–∫–∏, –ø–æ–¥–±–µ—Ä—ë–∑–æ–≤–∏–∫–∏, –ø–æ–¥–±–µ—Ä—ë–∑–æ–≤–∏–∫, –ø–æ–¥–æ—Å–∏–Ω–æ–≤–∏–∫–∏, –ø–æ–¥–æ—Å–∏–Ω–æ–≤–∏–∫, –º–∞—Å–ª—è—Ç–∞, –≥—Ä—É–∑–¥–∏, –≥—Ä—É–∑–¥—å, —Å–º–æ—Ä—á–∫–∏, –æ–ø—è—Ç–∞, –∞–π–≤–∞, —à–ø–∏–Ω–∞—Ç, –±—Ä–æ–∫–∫–æ–ª–∏, —Å–ø–µ—Ü–∏–∏, –≤–∏–Ω–æ, –∞–Ω–∏—Å, –±–∞–∑–∏–ª–∏–∫, –≥–≤–æ–∑–¥–∏–∫–∞, –∏–º–±–∏—Ä—å, –∏—Å—Å–æ–ø, –∫–∞–ª–∞–º–∏–Ω—Ç–∞, –∫–∞—Ä–¥–∞–º–æ–Ω, –∫–∏–Ω–∑–∞, –∫–æ—Ä–∏—Ü–∞, –∫—É—Ä–∫—É–º–∞, –ª–∞–≤—Ä–æ–≤—ã–π –ª–∏—Å—Ç, –º–∞–π–æ—Ä–∞–Ω, –º—è—Ç–∞, –æ—Ä–µ–≥–∞–Ω–æ, —á—ë—Ä–Ω—ã–π –ø–µ—Ä–µ—Ü, –ø–µ—Ç—Ä—É—à–∫–∞, —Ä–æ–∑–º–∞—Ä–∏–Ω, —Å–µ–ª—å–¥–µ—Ä–µ–π, —Ç–∞—Ä—Ö—É–Ω, —Ç–∏–º—å—è–Ω, —É–∫—Ä–æ–ø, —Ñ–µ–Ω—Ö–µ–ª—å, —à–∞—Ñ—Ä–∞–Ω, –ª–µ—á–æ, –±–µ–ª–æ–µ –≤–∏–Ω–æ, —Ä–µ–¥–∏—Å–∫–∞, —Ä–µ–¥–∏—Å, –º–æ—Ä—Å, –∫–æ—Ñ–µ, —è—á–Ω–µ–≤–∞—è –∫—Ä—É–ø–∞, –¥—Ä–æ–∂–∂–∏, –º—É–∫–∞, –∫–∞–ª–∏–Ω–∞, –≥–æ—Ä—á–∏—Ü–∞, —Å–æ–µ–≤—ã–π —Å–æ—É—Å, –∞—Ä–±—É–∑, —á–µ—Ä–Ω–∏–∫–∞, –∫–∏–≤–∏, –ª–∞–π–º, —Ä—è–±–∏–Ω–∞, —Ö—É—Ä–º–∞, –∑–∏—Ä–∞, —Å–∞—Ö–∞—Ä, –∞–±—Ä–∏–∫–æ—Å—ã, –∞–±—Ä–∏–∫–æ—Å, –∫–∏—Å–ª–æ–µ —Ç–µ—Å—Ç–æ, –ø–µ—Å–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–æ, –ø—Ä–µ—Å–Ω–æ–µ —Ç–µ—Å—Ç–æ, —Å–¥–æ–±–Ω–æ–µ —Ç–µ—Å—Ç–æ, —Å–ª–æ—ë–Ω–æ–µ —Ç–µ—Å—Ç–æ, —Ö–ª–µ–±–Ω–æ–µ —Ç–µ—Å—Ç–æ, —á–µ—Ä–µ—à–Ω—è, –∫–µ—Ñ–∏—Ä, –ø–µ—Ä—Å–∏–∫–∏, –ø–µ—Ä—Å–∏–∫, –≤–∏—à–Ω—è, –∫—Ä—ã–∂–æ–≤–Ω–∏–∫, —Ç–º–∏–Ω, –∫–∞—Ä—Ä–∏, —â–∞–≤–µ–ª—å, –∫–æ–ª—å—Ä–∞–±–∏, —Å–∞–≤–æ–π—Å–∫–∞—è –∫–∞–ø—É—Å—Ç–∞, –∫—Ä–∞—Å–Ω–æ–∫–æ—á–∞–Ω–Ω–∞—è –∫–∞–ø—É—Å—Ç–∞, —Ä—è–∂–µ–Ω–∫–∞, –ø–æ—á–∫–∏, –ø–∞—Å—Ç–µ—Ä–Ω–∞–∫, –æ–ª–∏–≤–∫–∏, –±—Ä—É—Å–Ω–∏–∫–∞, –±—Ä—é—Å—Å–µ–ª—å—Å–∫–∞—è –∫–∞–ø—É—Å—Ç–∞, –≤–∞–Ω–∏–ª—å, —Å–≥—É—â—ë–Ω–Ω–æ–µ –º–æ–ª–æ–∫–æ, –∂–µ–ª–µ, –∑–µ–ª—ë–Ω—ã–π –≥–æ—Ä–æ—à–µ–∫, —à–æ–∫–æ–ª–∞–¥–Ω–æ–µ –º–∞—Å–ª–æ, —á–µ—Ä–µ–º—à–∞, —Å—ã—Ä —Å—É–ª—É–≥—É–Ω–∏, –∞–ª—ã—á–∞, —á–µ—á–µ–≤–∏—Ü–∞, —Å—É—Ö–∞—Ä–∏–∫–∏, —Å—É—Ö–∞—Ä–∏, —Å–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ, –∫–æ–∫–æ—Å, —à–∞–ª—Ñ–µ–π, –æ–ª–∞–¥—å–∏, –∫—Ä–∞—Å–Ω–æ–µ –≤–∏–Ω–æ, –±–ª–∏–Ω—ã, –¥—Ä–æ–∂–∂–µ–≤–æ–µ —Ç–µ—Å—Ç–æ, –∫–∞—à–∏, —Å—É—à–∏, –∫—Ä–∞–±–æ–≤—ã–µ –ø–∞–ª–æ—á–∫–∏, –º–æ–ª–æ—á–Ω—ã–µ —Å—É–ø—ã, –º–∞–π–æ–Ω–µ–∑, —É–∫—Å—É—Å, –º–∞—Å–ª–∏–Ω—ã, –º–æ—Ä—Å–∫–∞—è –∫–∞–ø—É—Å—Ç–∞, –≤–µ—Ç—á–∏–Ω–∞, —Å–∞–∫—ç, —Ñ–æ—Ä–µ–ª—å, –ø—Ä–æ—Å—Ç–æ–∫–≤–∞—à–∞, —Å—É–±–ø—Ä–æ–¥—É–∫—Ç—ã, –ø–∞—Å—Ç–∞ –º–∏—Å–æ, —Ä–µ–¥—å–∫–∞, –≤–æ–¥–æ—Ä–æ—Å–ª–∏, –º–∞—Ä–≥–∞—Ä–∏–Ω, –ª—É–∫ —à–∞–ª–æ—Ç, –∫—É–∫—É—Ä—É–∑–Ω–∞—è –∫—Ä—É–ø–∞, –¥–∞–π–∫–æ–Ω, –∫—É—Ä–∞–≥–∞, –∏–∑—é–º, —á–µ—Ä–Ω–æ—Å–ª–∏–≤, –∫–∏—Ç–∞–π—Å–∫–∞—è –∫–∞–ø—É—Å—Ç–∞, —Ä–æ–º, –º–∞–Ω–≥–æ, —Ñ–∏—Å—Ç–∞—à–∫–∏, –ø–æ–≤–∏–¥–ª–æ, —Ä–æ—Å—Ç–∫–∏ –±–∞–º–±—É–∫–∞, –∫–µ–¥—Ä–æ–≤—ã–µ –æ—Ä–µ—Ö–∏, –∫–µ–¥—Ä–æ–≤—ã–π –æ—Ä–µ—Ö, –≤–æ–¥–∫–∞, —Ö–µ—Ä–µ—Å, –±—É–ª–≥—É—Ä, –≤–µ—Ä–º–∏—à–µ–ª—å, –ª—É–∫ –ø–æ—Ä–µ–π, —Ä–µ–≤–µ–Ω—å, —Ñ–∞—Ä—à, —Ö–ª–µ–±\n\"\n\n–û–ß–ï–ù–¨ –ü–û–î–†–û–ë–ù–û, –í–ü–õ–û–¢–¨ –î–û –ö–ê–ñ–î–û–ì–û –ó–ù–ê–ö–ê –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫\n\n–¢–≤–æ—è –∑–∞–¥–∞—á–∞:\n1. –ö–ê–ñ–î–´–ô —ç–ª–µ–º–µ–Ω—Ç –∏–∑ {{ JSON.parse($json.message.content) }} —Å—Ä–∞–≤–Ω–∏—Ç—å —Å –∫–∞–∂–¥—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º –∏–∑ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞\n2. –≤–µ—Ä–Ω—É—Ç—å –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û –ü–û–î–•–û–î–Ø–©–ò–ô –ò–ù–ì–†–ï–î–ò–ï–ù–¢ –ü–û –°–ú–´–°–õ–£. \n–ë–ï–ó –¢–í–û–ò–• –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í –ò –†–ê–°–°–£–ñ–î–ï–ù–ò–ô.\n–¢–û–õ–¨–ö–û –ù–ê–ó–í–ê–ù–ò–ï.\n–ù–ò–ß–ï–ì–û –ë–û–õ–¨–®–ï.\n\n–ü—Ä–∏–º–µ—Ä—ã –≤–µ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏\n1. –ù–∞ –≤—Ö–æ–¥–µ \"–ö—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞\". –¢—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—à—å \"–∫—É—Ä–∏—Ü–∞\"\n2. –ù–∞ –≤—Ö–æ–¥–µ \"–ö—É—Ä–∏–Ω–æ–µ —è–π—Ü–æ,–ö–∞—Ä—Ç–æ—à–µ—á–∫–∞\". –¢—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—à—å \"—è–π—Ü–æ, –∫–∞—Ä—Ç–æ—à–∫–∞\"`\n\nreturn [{\n  json:{\n    instruction: (text\n                  .replace(/[\"]/g, '\\'')\n                  .replace(/[\\b]/g, '\\\\b')\n                  .replace(/[\\f]/g, '\\\\f')\n                  .replace(/[\\n]/g, '')\n                  .replace(/[\\r]/g, '\\\\r')\n                  .replace(/[\\t]/g, '\\\\t'))\n  }\n}]\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2128,1520],"id":"b266fd99-c7d2-4de4-bd93-aa8a9d329c24","name":"Make Instruction1"},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[2320,1456],"id":"3045ad19-1a82-49fe-aef0-8a1ea929ad06","name":"Merge3"},{"parameters":{"jsCode":"const incomingData = $('Algorithm Of Levenshtein').all()[0].json.choices[0].message.content\n\nconst allIngredients = incomingData.split(',');\n\nconst splitingIngredients = {'allIngredients':JSON.stringify(allIngredients)\n  .replace(/[\"]/g, '')\n  .replace(/[\\n]/g, '')\n  .replace(/[\\[]/g, '')\n  .replace(/[\\]]/g, '')\n  .replace(/[\\\\]/g, '')\n  .replace(/[\\b]/g, '\\\\b')\n  .replace(/[\\f]/g, '\\\\f')\n  .replace(/[\\r]/g, '\\\\r')\n  .replace(/[\\t]/g, '\\\\t')\n}\n\nreturn splitingIngredients;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2128,1392],"id":"cb1f1976-6ac0-488d-9ab6-2e99bc829c18","name":"Reformat Ingredients2","alwaysOutputData":true},{"parameters":{"method":"POST","url":"https://api.perplexity.ai/chat/completions","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"model\": \"sonar\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"{{ $('Merge3').all()[1].json.instruction }}\"\n    },\n    {\n      \"role\": \"user\",\n        \"content\": \"{{ $('Merge3').all()[0].json.allIngredients }}\"\n    }\n  ]\n}","options":{}},"id":"98eab464-c0dc-418b-9018-066ac9ec27cb","name":"Semantic Synonym Search","type":"n8n-nodes-base.httpRequest","position":[2512,1456],"typeVersion":4.2,"executeOnce":false,"credentials":{"httpHeaderAuth":{"id":"afYGpLOub3YhkslO","name":"Header Auth account"}}},{"parameters":{"url":"=http://185.77.231.110:8000/rest/v1/user_categories?chat_id=eq.{{ $json.message.chat.id }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"},{"name":"Prefer","value":"resolution=merge-duplicates"}]},"options":{}},"id":"1b050822-2856-43e5-8ec7-74f8f968165e","name":"Supa Get Category1","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2704,1328],"alwaysOutputData":true},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[1920,2736],"id":"e093ee1b-6d5e-422c-a5e9-7c9699bfe24c","name":"Merge4"},{"parameters":{"method":"POST","url":"https://api.perplexity.ai/chat/completions","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"model\": \"sonar\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"{{ $('Merge4').all()[1].json.instruction }}\"\n    },\n    {\n      \"role\": \"user\",\n        \"content\": \"{{ $('Merge4').all()[0].json.htmlOfDish }}\"\n    }\n  ]\n}\n","options":{}},"id":"16334542-1e07-492c-8cf4-637cc913fc79","name":"Get Instructions For Dish","type":"n8n-nodes-base.httpRequest","position":[2128,2736],"typeVersion":4.2,"executeOnce":false,"credentials":{"httpHeaderAuth":{"id":"afYGpLOub3YhkslO","name":"Header Auth account"}}},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[1920,2528],"id":"998aedda-a193-4e9e-8fd8-343b12f7ccc4","name":"Merge5"},{"parameters":{"method":"POST","url":"https://api.perplexity.ai/chat/completions","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"model\": \"sonar\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"{{ $('Merge5').all()[1].json.instruction }}\"\n    },\n    {\n      \"role\": \"user\",\n        \"content\": \"{{ $('Merge5').all()[0].json.htmlOfDish }}\"\n    }\n  ]\n}\n","options":{}},"id":"c50a692f-775c-4adf-bb27-1d89041c3269","name":"Get Instructions For Dish1","type":"n8n-nodes-base.httpRequest","position":[2128,2528],"typeVersion":4.2,"executeOnce":false,"credentials":{"httpHeaderAuth":{"id":"afYGpLOub3YhkslO","name":"Header Auth account"}}},{"parameters":{"jsCode":"const incomingData = $input.all()[0].json.data\n\n// const allIngredients = incomingData.split(',');\n\nconst htmlOfDish = {'htmlOfDish':JSON.stringify(incomingData)\n  .replace(/[\"]/g, '')\n  .replace(/[\\\\n]/g, ' ')\n  .replace(/[\\[]/g, '')\n  .replace(/[\\]]/g, '')\n  .replace(/[\\b]/g, '\\\\b')\n  .replace(/[\\f]/g, '\\\\f')\n  .replace(/[\\r]/g, '\\\\r')\n  .replace(/[\\t]/g, '\\\\t')\n}\n\nreturn htmlOfDish;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1728,2528],"id":"1f7374c8-badc-4b51-bbbd-f0b894b31677","name":"Reformat Ingredients4","alwaysOutputData":true},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[1920,2304],"id":"04a3c9ee-ea02-49d4-9f7f-a8c7c31d6d47","name":"Merge6"},{"parameters":{"method":"POST","url":"https://api.perplexity.ai/chat/completions","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"model\": \"sonar\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"{{ $('Merge6').all()[1].json.instruction }}\"\n    },\n    {\n      \"role\": \"user\",\n        \"content\": \"{{ $('Merge6').all()[0].json.htmlOfDish }}\"\n    }\n  ]\n}\n","options":{}},"id":"dde75975-9117-4ea3-9a8b-e670a6d8f5e6","name":"Get Instructions For Dish2","type":"n8n-nodes-base.httpRequest","position":[2128,2304],"typeVersion":4.2,"executeOnce":false,"credentials":{"httpHeaderAuth":{"id":"afYGpLOub3YhkslO","name":"Header Auth account"}}},{"parameters":{"jsCode":"\n\nreturn {\"ingredients\": $input.all()[0].json.choices[0].message.content };"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2320,2528],"id":"c33ee814-d243-4baa-a9b9-85209629e5f7","name":"Code"},{"parameters":{"jsCode":"\n\nreturn {\"instructions\":$input.first().json.choices[0].message.content};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2320,2736],"id":"51600c26-50de-4bdf-b93d-93d20e9f5b92","name":"Code1"},{"parameters":{"jsCode":"const text = `\nThis is an HTML page that describes the cooking process step by step.\nIt has a block with a photo of the prepared dish, a block with ingredients, and a blog with step-by-step instructions.\nAnalyze this page in as much DETAIL as POSSIBLE, down to each character.\nCan you find a block with a photo of the finished dish?\nThere is a link to the photo in the found block.\nJUST print this link and nothing else, no more of your extras.words or comments\nLet's think step by step.`\n\nreturn [{\n  json:{\n    instruction: (text\n                  .replace(/[\"]/g, '\\'')\n                  .replace(/[\\b]/g, '\\\\b')\n                  .replace(/[\\f]/g, '\\\\f')\n                  .replace(/[\\n]/g, '')\n                  .replace(/[\\r]/g, '\\\\r')\n                  .replace(/[\\t]/g, '\\\\t'))\n  }\n}]\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1536,2288],"id":"066681cf-6aa0-4d78-839e-00cb099fd5b9","name":"Make Prompt For Img"},{"parameters":{"jsCode":"const text = `\nThis is an HTML page that describes the cooking process step by step.\nIt has a block with a photo of the prepared dish, a block with ingredients, and a blog with step-by-step instructions.\nAnalyze this page in as much DETAIL as POSSIBLE, down to each character.\n\nCan you find a block with ingredients of the dish?\n\nThere are ingredients in the found block.\nJUST print this ingredients in text format and nothing else, no more of your extras.words or comments.\nNumber the resulting list.\nLet's think step by step.`\n\nreturn [{\n  json:{\n    instruction: (text\n                  .replace(/[\"]/g, '\\'')\n                  .replace(/[\\b]/g, '\\\\b')\n                  .replace(/[\\f]/g, '\\\\f')\n                  .replace(/[\\n]/g, '')\n                  .replace(/[\\r]/g, '\\\\r')\n                  .replace(/[\\t]/g, '\\\\t'))\n  }\n}]\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1536,2528],"id":"effbe177-2a4a-4c15-b8dd-924ebf32785f","name":"Make Prompt For Ingredients"},{"parameters":{"jsCode":"const text = `\nThis is an HTML page that describes the cooking process step by step.\nIt has a block with a photo of the prepared dish, a block with ingredients, and a blog with step-by-step instructions.\nAnalyze this page in as much DETAIL as POSSIBLE, down to each character.\n\nCan you find a block with class=\"instructions\" itemprop=\"recipeInstructions\"\n\nThere are step-by-step instructions of the dish in the found block.\nJUST print text of this instructions and nothing else, no more of your extras words or comments\nLet's think step by step.`\n\nreturn [{\n  json:{\n    instruction: (text\n                  .replace(/[\"]/g, '\\'')\n                  .replace(/[\\b]/g, '\\\\b')\n                  .replace(/[\\f]/g, '\\\\f')\n                  .replace(/[\\n]/g, '')\n                  .replace(/[\\r]/g, '\\\\r')\n                  .replace(/[\\t]/g, '\\\\t'))\n  }\n}]\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1536,2752],"id":"8609ebd0-2a59-4010-9750-9883b5144997","name":"Make Prompt For Instruction"},{"parameters":{"method":"POST","url":"https://api.perplexity.ai/chat/completions","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"model\": \"sonar\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"{{ $('Merge2').all()[1].json.instruction }}\"\n    },\n    {\n      \"role\": \"user\",\n        \"content\": \"{{ $('Merge2').all()[0].json.allIngredients }}\"\n    }\n  ]\n}\n","options":{}},"id":"750a8d64-2290-4dbd-ac48-3f2a84976b4d","name":"Algorithm Of Levenshtein","type":"n8n-nodes-base.httpRequest","position":[1920,1456],"typeVersion":4.2,"executeOnce":false,"credentials":{"httpHeaderAuth":{"id":"afYGpLOub3YhkslO","name":"Header Auth account"}}}],"connections":{"2":{"main":[[{"node":"Make SupaBase Fields","type":"main","index":0},{"node":"Switch Search Type","type":"main","index":0}]]},"3":{"main":[[{"node":"Return Category Chat ID User Info","type":"main","index":0}]]},"4":{"main":[[{"node":"Merge","type":"main","index":0},{"node":"Supa Get SearchType1","type":"main","index":0}]]},"5":{"main":[[{"node":"Return ChatId","type":"main","index":0},{"node":"Supa Get Recipes1","type":"main","index":0}]]},"HTML-parse Get Recipes Titles":{"main":[[{"node":"Get Random Titles","type":"main","index":0},{"node":"ShortID_FullURL","type":"main","index":0}]]},"Get Random Titles":{"main":[[{"node":"Switch","type":"main","index":0}]]},"Return Ingredient Number":{"main":[[{"node":"Merge1","type":"main","index":1}]]},"Switch Command":{"main":[[{"node":"Send MSG on start2","type":"main","index":0},{"node":"Supa Get User","type":"main","index":0}]]},"Switch message type":{"main":[[{"node":"1.","type":"main","index":0}],[{"node":"2","type":"main","index":0}],[{"node":"3","type":"main","index":0}],[{"node":"4","type":"main","index":0}],[{"node":"5","type":"main","index":0}]]},"Get MSG":{"main":[[{"node":"Switch message type","type":"main","index":0}]]},"Return Category Number":{"main":[[{"node":"Category Name + Message Info","type":"main","index":1}]]},"Merge1":{"main":[[{"node":"Generate URL","type":"main","index":0}]]},"Category Name + Message Info":{"main":[[{"node":"Make Firestore Fields","type":"main","index":0}]]},"Return Category Chat ID User Info":{"main":[[{"node":"Send MSG On Any Category","type":"main","index":0},{"node":"Supa Get Category","type":"main","index":0}]]},"Return Recipe Url":{"main":[[{"node":"HTTP Request","type":"main","index":0}]]},"HTTP Request":{"main":[[{"node":"Make Prompt For Instruction","type":"main","index":0},{"node":"Make Prompt For Ingredients","type":"main","index":0},{"node":"Make Prompt For Img","type":"main","index":0},{"node":"Reformat Ingredients4","type":"main","index":0}]]},"Return Img Url":{"main":[[{"node":"Category Name + Message Info1","type":"main","index":1}]]},"Return ChatId":{"main":[[{"node":"MSG after selecting dish","type":"main","index":0},{"node":"Category Name + Message Info1","type":"main","index":0},{"node":"Category Name + Message Info2","type":"main","index":0},{"node":"Category Name + Message Info3","type":"main","index":0}]]},"Category Name + Message Info1":{"main":[[{"node":"Send Img","type":"main","index":0}]]},"Category Name + Message Info2":{"main":[[{"node":"Send Ingredients","type":"main","index":0}]]},"Category Name + Message Info3":{"main":[[{"node":"Send Instructions","type":"main","index":0}]]},"1.":{"main":[[{"node":"Switch Command","type":"main","index":0}]]},"1000.menu Request1":{"main":[[{"node":"HTML-parse Get Recipes Titles","type":"main","index":0}]]},"Switch":{"main":[[{"node":"Telegram1","type":"main","index":0}],[{"node":"Telegram2","type":"main","index":0}],[{"node":"Telegram3","type":"main","index":0}],[{"node":"Telegram4","type":"main","index":0}],[{"node":"Telegram5","type":"main","index":0}],[{"node":"Telegram6","type":"main","index":0}],[{"node":"Telegram7","type":"main","index":0}],[{"node":"Telegram8","type":"main","index":0}],[{"node":"Telegram9","type":"main","index":0}],[{"node":"Telegram10","type":"main","index":0}]]},"Merge":{"main":[[{"node":"Switch  On SearchType","type":"main","index":0}]]},"Switch Search Type":{"main":[[{"node":"Send MSG On Ingredients","type":"main","index":0}],[{"node":"Send MSG On Name","type":"main","index":0}]]},"Switch  On SearchType":{"main":[[{"node":"Reformat Ingredients","type":"main","index":0},{"node":"Send MSG About Searching","type":"main","index":0},{"node":"Make Instruction","type":"main","index":0},{"node":"Supa Get Category1","type":"main","index":0}],[{"node":"Generate URL","type":"main","index":0},{"node":"Send MSG About Searching","type":"main","index":0}]]},"Generate URL":{"main":[[{"node":"1000.menu Request1","type":"main","index":0}]]},"Make Firestore Fields":{"main":[[{"node":"Supa Set User Session","type":"main","index":0}]]},"Supa Get User":{"main":[[{"node":"If Useer Not Exists","type":"main","index":0}]]},"Supa Get SearchType":{"main":[[{"node":"If SearchType Not Exists","type":"main","index":0}]]},"Supa Get Category":{"main":[[{"node":"If Category Not Exists","type":"main","index":0}]]},"If Category Not Exists":{"main":[[{"node":"Supa Post Category","type":"main","index":0}],[{"node":"Supa Update Category","type":"main","index":0}]]},"If SearchType Not Exists":{"main":[[{"node":"Supa Post SearchType","type":"main","index":0}],[{"node":"Supa Update SearchType","type":"main","index":0}]]},"If Useer Not Exists":{"main":[[{"node":"Supa Post User","type":"main","index":0}],[{"node":"Supa Update User","type":"main","index":0}]]},"Make SupaBase Fields":{"main":[[{"node":"Supa Get SearchType","type":"main","index":0}]]},"Supa Get SearchType1":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Send MSG on start5":{"main":[[]]},"ShortID_FullURL":{"main":[[{"node":"Supa Get Recipes","type":"main","index":0}]]},"Supa Get Recipes":{"main":[[{"node":"If Recipes Not Exists","type":"main","index":0}]]},"If Recipes Not Exists":{"main":[[{"node":"Supa Post Recipes","type":"main","index":0}],[{"node":"Supa Update Recipes","type":"main","index":0}]]},"Supa Get Recipes1":{"main":[[{"node":"Return Recipe Url","type":"main","index":0}]]},"Send MSG On Any Category":{"main":[[]]},"Merge2":{"main":[[{"node":"Algorithm Of Levenshtein","type":"main","index":0}]]},"Reformat Ingredients":{"main":[[{"node":"Merge2","type":"main","index":0}]]},"Make Instruction":{"main":[[{"node":"Merge2","type":"main","index":1}]]},"Make Instruction1":{"main":[[{"node":"Merge3","type":"main","index":1}]]},"Merge3":{"main":[[{"node":"Semantic Synonym Search","type":"main","index":0}]]},"Reformat Ingredients2":{"main":[[{"node":"Merge3","type":"main","index":0}]]},"Semantic Synonym Search":{"main":[[{"node":"Return Ingredient Number","type":"main","index":0}]]},"Supa Get Category1":{"main":[[{"node":"Merge1","type":"main","index":0}]]},"Merge4":{"main":[[{"node":"Get Instructions For Dish","type":"main","index":0}]]},"Get Instructions For Dish":{"main":[[{"node":"Code1","type":"main","index":0}]]},"Merge5":{"main":[[{"node":"Get Instructions For Dish1","type":"main","index":0}]]},"Reformat Ingredients4":{"main":[[{"node":"Merge5","type":"main","index":0},{"node":"Merge4","type":"main","index":0},{"node":"Merge6","type":"main","index":1}]]},"Merge6":{"main":[[{"node":"Get Instructions For Dish2","type":"main","index":0}]]},"Get Instructions For Dish2":{"main":[[{"node":"Return Img Url","type":"main","index":0}]]},"Get Instructions For Dish1":{"main":[[{"node":"Code","type":"main","index":0}]]},"Code":{"main":[[{"node":"Category Name + Message Info2","type":"main","index":1}]]},"Code1":{"main":[[{"node":"Category Name + Message Info3","type":"main","index":1}]]},"Make Prompt For Img":{"main":[[{"node":"Merge6","type":"main","index":0}]]},"Make Prompt For Ingredients":{"main":[[{"node":"Merge5","type":"main","index":1}]]},"Make Prompt For Instruction":{"main":[[{"node":"Merge4","type":"main","index":1}]]},"Algorithm Of Levenshtein":{"main":[[{"node":"Make Instruction1","type":"main","index":0},{"node":"Reformat Ingredients2","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"b920d715-e569-40cb-aee0-05bc3c064d17","triggerCount":1,"shared":[{"createdAt":"2025-09-23T08:47:36.135Z","updatedAt":"2025-09-23T08:47:36.135Z","role":"workflow:owner","workflowId":"17EV4XzEruaFzoQh","projectId":"IleytSzahKgJVE8V","project":{"createdAt":"2025-08-23T08:28:18.741Z","updatedAt":"2025-08-23T10:48:47.350Z","id":"IleytSzahKgJVE8V","name":"Oleg Ovchinnikov <olegovnino@mail.ru>","type":"personal","icon":null,"description":null,"projectRelations":[{"createdAt":"2025-08-23T08:28:18.741Z","updatedAt":"2025-08-23T08:28:18.741Z","role":"project:personalOwner","userId":"8c5ac946-8157-4148-a581-c85f73d34327","projectId":"IleytSzahKgJVE8V","user":{"createdAt":"2025-08-23T08:28:18.218Z","updatedAt":"2025-09-23T21:00:35.104Z","id":"8c5ac946-8157-4148-a581-c85f73d34327","email":"olegovnino@mail.ru","firstName":"Oleg","lastName":"Ovchinnikov","personalizationAnswers":null,"settings":{"userActivated":true,"easyAIWorkflowOnboarded":true,"firstSuccessfulWorkflowId":"LB07ov0GUG7GKygf","userActivatedAt":1757667384674,"npsSurvey":{"waitingForResponse":true,"ignoredCount":1,"lastShownAt":1758027745623}},"role":"global:owner","disabled":false,"mfaEnabled":false,"lastActiveAt":"2025-09-23","isPending":false}}]}}],"tags":[]}